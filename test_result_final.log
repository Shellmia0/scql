==========================================
  SCQL éšç§ä¿æŠ¤è”åˆè®¡ç®—å®Œæ•´æµ‹è¯•
==========================================

[0;34m[INFO][0m æ­¥éª¤ 1: æ£€æŸ¥æœåŠ¡çŠ¶æ€

[0;32m[SUCCESS][0m æ‰€æœ‰æœåŠ¡è¿è¡Œæ­£å¸¸
  - SCDB Server: è¿è¡Œä¸­
  - SCQLEngine: 2 ä¸ªè¿è¡Œä¸­
  - MySQL: è¿è¡Œä¸­

[0;34m[INFO][0m æ­¥éª¤ 2: æ¸…ç†æ—§ç¯å¢ƒ

[0;32m[SUCCESS][0m ç¯å¢ƒæ¸…ç†å®Œæˆ

[0;34m[INFO][0m æ­¥éª¤ 3: åˆ›å»ºæ•°æ®åº“

[0;34m[INFO][0m åˆ›å»ºæ•°æ®åº“ demo
2025/12/01 00:03:50 CREATE DATABASE demo;
[fetch] OK for DDL/DCL
[0;32m[SUCCESS][0m æ•°æ®åº“åˆ›å»ºæˆåŠŸ

[0;34m[INFO][0m æ­¥éª¤ 4: åˆ›å»ºç”¨æˆ·

[0;34m[INFO][0m ç”Ÿæˆ Alice çš„ CREATE USER è¯­å¥...
[0;34m[INFO][0m ç”Ÿæˆ Bob çš„ CREATE USER è¯­å¥...
[0;32m[SUCCESS][0m ç”¨æˆ·åˆ›å»ºæˆåŠŸ

[0;34m[INFO][0m æ­¥éª¤ 5: æˆäºˆæ•°æ®åº“æƒé™

[0;32m[SUCCESS][0m æƒé™æˆäºˆæˆåŠŸ

[0;34m[INFO][0m æ­¥éª¤ 6: åˆ›å»ºè¡¨

[0;32m[SUCCESS][0m è¡¨åˆ›å»ºæˆåŠŸ

[0;34m[INFO][0m æ­¥éª¤ 7: æ³¨å†Œ Engine ç«¯ç‚¹

[0;32m[SUCCESS][0m Engine ç«¯ç‚¹æ³¨å†ŒæˆåŠŸ
  - Alice Engine: localhost:8003
  - Bob Engine: localhost:8004

[0;34m[INFO][0m æ­¥éª¤ 8: è®¾ç½® CCL æƒé™

[0;34m[INFO][0m Alice è®¾ç½® CCL...
[0;34m[INFO][0m Bob è®¾ç½® CCL...
[0;32m[SUCCESS][0m CCL æƒé™è®¾ç½®æˆåŠŸ

[0;34m[INFO][0m æ­¥éª¤ 9: æŸ¥çœ‹æƒé™è®¾ç½®

[0;34m[INFO][0m Alice çš„æƒé™:
2025/12/01 00:03:50 SHOW GRANTS ON demo FOR alice;
[fetch]
8 rows in set: (3.343089ms)
+----------------------------------------------------------------------------------+
|                            Grants on demo for alice@%                            |
+----------------------------------------------------------------------------------+
| GRANT CREATE, DROP, GRANT OPTION ON demo.* TO alice                              |
| GRANT SELECT PLAINTEXT(age) ON demo.user_credit TO alice                         |
| GRANT SELECT PLAINTEXT(credit_rank) ON demo.user_credit TO alice                 |
| GRANT SELECT PLAINTEXT(id) ON demo.user_credit TO alice                          |
| GRANT SELECT PLAINTEXT(income) ON demo.user_credit TO alice                      |
| GRANT SELECT PLAINTEXT_AFTER_JOIN(id) ON demo.user_stats TO alice                |
| GRANT SELECT PLAINTEXT_AFTER_AGGREGATE(order_amount) ON demo.user_stats TO alice |
| GRANT SELECT PLAINTEXT_AFTER_COMPARE(is_active) ON demo.user_stats TO alice      |
+----------------------------------------------------------------------------------+

[0;34m[INFO][0m Bob çš„æƒé™:
2025/12/01 00:03:50 SHOW GRANTS ON demo FOR bob;
[fetch]
8 rows in set: (3.456023ms)
+-------------------------------------------------------------------------------+
|                           Grants on demo for bob@%                            |
+-------------------------------------------------------------------------------+
| GRANT CREATE, DROP, GRANT OPTION ON demo.* TO bob                             |
| GRANT SELECT PLAINTEXT_AFTER_JOIN(id) ON demo.user_credit TO bob              |
| GRANT SELECT PLAINTEXT_AFTER_GROUP_BY(credit_rank) ON demo.user_credit TO bob |
| GRANT SELECT PLAINTEXT_AFTER_AGGREGATE(income) ON demo.user_credit TO bob     |
| GRANT SELECT PLAINTEXT_AFTER_COMPARE(age) ON demo.user_credit TO bob          |
| GRANT SELECT PLAINTEXT(id) ON demo.user_stats TO bob                          |
| GRANT SELECT PLAINTEXT(is_active) ON demo.user_stats TO bob                   |
| GRANT SELECT PLAINTEXT(order_amount) ON demo.user_stats TO bob                |
+-------------------------------------------------------------------------------+

==========================================
[0;34m[INFO][0m æ­¥éª¤ 10: æ‰§è¡Œæµ‹è¯•ç”¨ä¾‹
==========================================

==========================================
[0;34m[INFO][0m æµ‹è¯•: éšç§ä¿æŠ¤çš„è”åˆæŸ¥è¯¢
==========================================
[0;31m[ERROR][0m âŒ å¤±è´¥ - æŸ¥è¯¢åº”è¯¥æˆåŠŸä½†è¢«æ‹’ç»
[fetch]err: Code: 320, message:RunExecutionPlan run jobs(295cb619-ce06-11f0-98c9-0242ac110007) failed, catch std::exception=[engine/datasource/odbc_connector.cc:99] create session catch unexpected Poco::Data::DataException: Connection attempt failed: Can't connect to local MySQL server through socket '/tmp/mysql.sock' (2)

==========================================
[0;34m[INFO][0m æµ‹è¯•: Alice å°è¯•ç›´æ¥æŸ¥çœ‹ Bob çš„åŸå§‹æ•°æ®ï¼ˆåº”è¯¥è¢«æ‹’ç»ï¼‰
==========================================
[0;32m[SUCCESS][0m âœ… é€šè¿‡ - æŸ¥è¯¢è¢«æ­£ç¡®æ‹’ç»ï¼ˆç¬¦åˆé¢„æœŸï¼‰
åŸå› : [fetch]err: Code: 160, message:ccl check failed: the 1th column demo.user_stats.order_amount in the result is not visibile (PLAINTEXT_AFTER_AGGREGATE) to party alice

==========================================
[0;34m[INFO][0m æµ‹è¯•: Alice å°è¯•é€šè¿‡ JOIN æŸ¥çœ‹ Bob çš„åŸå§‹æ•°æ®ï¼ˆåº”è¯¥è¢«æ‹’ç»ï¼‰
==========================================
[0;32m[SUCCESS][0m âœ… é€šè¿‡ - æŸ¥è¯¢è¢«æ­£ç¡®æ‹’ç»ï¼ˆç¬¦åˆé¢„æœŸï¼‰
åŸå› : [fetch]err: Code: 160, message:ccl check failed: the 2th column demo.user_stats.order_amount in the result is not visibile (PLAINTEXT_AFTER_AGGREGATE) to party alice

==========================================
[0;34m[INFO][0m æµ‹è¯•: Alice æŸ¥çœ‹ Bob æ•°æ®çš„èšåˆç»“æœï¼ˆåº”è¯¥æˆåŠŸï¼‰
==========================================
[0;31m[ERROR][0m âŒ å¤±è´¥ - æŸ¥è¯¢åº”è¯¥æˆåŠŸä½†è¢«æ‹’ç»
[fetch]err: Code: 320, message:RunExecutionPlan run jobs(29695fce-ce06-11f0-98c9-0242ac110007) failed, catch std::exception=[engine/datasource/odbc_connector.cc:99] create session catch unexpected Poco::Data::DataException: Connection attempt failed: Can't connect to local MySQL server through socket '/tmp/mysql.sock' (2)

==========================================
[0;34m[INFO][0m æµ‹è¯•: Alice æŸ¥çœ‹è‡ªå·±çš„æ•°æ®ï¼ˆåº”è¯¥æˆåŠŸï¼‰
==========================================
[0;31m[ERROR][0m âŒ å¤±è´¥ - æŸ¥è¯¢åº”è¯¥æˆåŠŸä½†è¢«æ‹’ç»
[fetch]err: Code: 320, message:RunExecutionPlan run jobs(296c06b1-ce06-11f0-98c9-0242ac110007) failed, catch std::exception=[engine/datasource/odbc_connector.cc:99] create session catch unexpected Poco::Data::DataException: Connection attempt failed: Can't connect to local MySQL server through socket '/tmp/mysql.sock' (2)

==========================================
[0;34m[INFO][0m æµ‹è¯•: Bob æŸ¥çœ‹è‡ªå·±çš„æ•°æ®ï¼ˆåº”è¯¥æˆåŠŸï¼‰
==========================================
[0;31m[ERROR][0m âŒ å¤±è´¥ - æŸ¥è¯¢åº”è¯¥æˆåŠŸä½†è¢«æ‹’ç»
[fetch]err: Code: 320, message:RunExecutionPlan run jobs(296ea1ff-ce06-11f0-98c9-0242ac110007) failed, catch std::exception=[engine/datasource/odbc_connector.cc:99] create session catch unexpected Poco::Data::DataException: Connection attempt failed: Can't connect to local MySQL server through socket '/tmp/mysql.sock' (2)

==========================================
[0;34m[INFO][0m æµ‹è¯•: Bob å°è¯•æŸ¥çœ‹ Alice çš„åŸå§‹æ•°æ®ï¼ˆåº”è¯¥è¢«æ‹’ç»ï¼‰
==========================================
[0;32m[SUCCESS][0m âœ… é€šè¿‡ - æŸ¥è¯¢è¢«æ­£ç¡®æ‹’ç»ï¼ˆç¬¦åˆé¢„æœŸï¼‰
åŸå› : [fetch]err: Code: 160, message:ccl check failed: the 1th column demo.user_credit.income in the result is not visibile (PLAINTEXT_AFTER_AGGREGATE) to party bob

==========================================
[0;34m[INFO][0m æµ‹è¯•ç»“æœæ€»ç»“
==========================================

æ€»æµ‹è¯•æ•°: 7
[0;32mé€šè¿‡: 3[0m
[0;31må¤±è´¥: 4[0m

[0;31m[ERROR][0m æœ‰ 4 ä¸ªæµ‹è¯•å¤±è´¥

è¯·æ£€æŸ¥æ—¥å¿—:
  tail -f examples/scdb-tutorial/logs/alice_engine.log
  tail -f examples/scdb-tutorial/logs/bob_engine.log
  tail -f examples/scdb-tutorial/logs/scdbserver.log
