2025-12-01 00:04:19.509 [info] [main.cc:main:312] [scqlengine] Engine version: 0.9.5dev.20251130-21:40:26.5de28ec
2025-12-01 00:04:19.511 [info] [main.cc:BuildRouter:117] [scqlengine] Building EmbedRouter from json conf
2025-12-01 00:04:19.512 [info] [session_manager.cc:WatchSessionTimeoutThread:275] [scqlengine] WatchSessionTimeoutThread startup, session default timeout=1800s
2025-12-01 00:04:19.514 [info] [thread_pool.cc:ThreadPool:30] [scqlengine] Create a fixed thread pool with size 192
2025-12-01 00:04:19.521 [info] [main.cc:main:342] [scqlengine] Adding EngineService into brpc server
2025-12-01 00:04:19.521 [info] [main.cc:main:352] [scqlengine] Adding MetricsService into brpc server
2025-12-01 00:04:19.521 [info] [main.cc:main:365] [scqlengine] Adding MuxReceiverService into main server...
2025-12-01 00:04:19.521 [info] [main.cc:main:370] [scqlengine] Adding ErrorCollectorService into main server...
2025-12-01 00:04:19.530 [warning] [server.cpp:BRPC:1248] [scqlengine] Builtin services are disabled according to ServerOptions.has_builtin_services
2025-12-01 00:04:19.530 [info] [main.cc:main:395] [scqlengine] Started engine rpc server success, listen on: 0.0.0.0:8004
2025-12-01 00:04:19.530 [warning] [controller.cpp:BRPC:1618] [scqlengine] SIGTERM was installed with 1
2025-12-01 00:04:34.841 [info] [session_manager.cc:CreateSession:131] [scqlengine] create session(43a187d7-ce06-11f0-91a2-0242ac110007) succ, cost(2ms), current running session=1
2025-12-01 00:04:34.841 [info] [engine_service_impl.cc:CheckGraphChecksum:177] [job(43a187d7-ce06-11f0-91a2-0242ac110007)] skip checking graph checksum
2025-12-01 00:04:34.842 [info] [engine_service_impl.cc:RunExecutionPlan:283] [job(43a187d7-ce06-11f0-91a2-0242ac110007)] [RunExecutionPlan] Session created successfully, start to run plan, client = 127.0.0.1:50720
RunExecutionPlanRequest = {"job_params":{"party_code":"bob","parties":[{"code":"alice","name":"alice","host":"localhost:8003","public_key":"MCowBQYDK2VwAyEAocQ8CID0RXLpbkHhS56TuGdkMJpVMLGB6q9xwWtCIIo="},{"code":"bob","name":"bob","host":"localhost:8004","rank":1,"public_key":"MCowBQYDK2VwAyEAeKWKsxJVF5cvfB693Jb/HI1CCJA6WZyVeS6ErCLlj4w="}],"job_id":"43a187d7-ce06-11f0-91a2-0242ac110007","spu_runtime_cfg":{"protocol":2,"field":2,"public_random_seed":"3047893305530671302"}},"graph":{"nodes":{"1":{"node_name":"runsql.1","op_type":"RunSQL","outputs":{"Out":{"tensors":[{"name":"demo.user_stats.id.3","elem_type":8,"option":1,"annotation":{"status":1},"ref_num":1},{"name":"demo.user_stats.order_amount.4","elem_type":6,"option":1,"annotation":{"status":1},"ref_num":1}]}},"attributes":{"sql":{"t":{"name":".0","elem_type":8,"string_data":["select tb.id,tb.order_amount from bob.user_stats as tb where tb.is_active=1;"]}},"table_refs":{"t":{"name":".0","shape":{"dim":[{"dim_value":"1"}]},"elem_type":8,"string_data":["bob.user_stats"]}}}},"10":{"node_name":"count.10","op_type":"ObliviousGroupCount","inputs":{"Group":{"tensors":[{"name":"group_mark.17","elem_type":7,"option":1,"annotation":{"status":2},"ref_num":5}]},"In":{"tensors":[{"name":"group_mark.17","elem_type":7,"option":1,"annotation":{"status":2},"ref_num":5}]}},"outputs":{"Out":{"tensors":[{"name":"group_mark.18","elem_type":4,"option":1,"annotation":{"status":2},"ref_num":1}]}}},"11":{"node_name":"avg.11","op_type":"ObliviousGroupAvg","inputs":{"Group":{"tensors":[{"name":"group_mark.17","elem_type":7,"option":1,"annotation":{"status":2},"ref_num":5}]},"In":{"tensors":[{"name":"demo.user_credit.income.15","elem_type":4,"option":1,"annotation":{"status":2},"ref_num":1}]}},"outputs":{"Out":{"tensors":[{"name":"demo.user_credit.income.19","elem_type":6,"option":1,"annotation":{"status":2},"ref_num":1}]}}},"12":{"node_name":"avg.12","op_type":"ObliviousGroupAvg","inputs":{"Group":{"tensors":[{"name":"group_mark.17","elem_type":7,"option":1,"annotation":{"status":2},"ref_num":5}]},"In":{"tensors":[{"name":"demo.user_stats.order_amount.16","elem_type":6,"option":1,"annotation":{"status":2},"ref_num":1}]}},"outputs":{"Out":{"tensors":[{"name":"demo.user_stats.order_amount.20","elem_type":6,"option":1,"annotation":{"status":2},"ref_num":1}]}}},"13":{"node_name":"shuffle.13","op_type":"Shuffle","inputs":{"In":{"tensors":[{"name":"group_mark.18","elem_type":4,"option":1,"annotation":{"status":2},"ref_num":1},{"name":"demo.user_credit.income.19","elem_type":6,"option":1,"annotation":{"status":2},"ref_num":1},{"name":"demo.user_stats.order_amount.20","elem_type":6,"option":1,"annotation":{"status":2},"ref_num":1},{"name":"demo.user_credit.credit_rank.14","elem_type":4,"option":1,"annotation":{"status":2},"ref_num":1},{"name":"group_mark.17","elem_type":7,"option":1,"annotation":{"status":2},"ref_num":5}]}},"outputs":{"Out":{"tensors":[{"name":"group_mark.21","elem_type":4,"option":1,"annotation":{"status":2},"ref_num":1},{"name":"demo.user_credit.income.22","elem_type":6,"option":1,"annotation":{"status":2},"ref_num":1},{"name":"demo.user_stats.order_amount.23","elem_type":6,"option":1,"annotation":{"status":2},"ref_num":1},{"name":"demo.user_credit.credit_rank.24","elem_type":4,"option":1,"annotation":{"status":2},"ref_num":1},{"name":"group_mark.25","elem_type":7,"option":1,"annotation":{"status":2},"ref_num":1}]}}},"14":{"node_name":"make_public.14","op_type":"MakePublic","inputs":{"In":{"tensors":[{"name":"group_mark.25","elem_type":7,"option":1,"annotation":{"status":2},"ref_num":1}]}},"outputs":{"Out":{"tensors":[{"name":"group_mark.26","elem_type":7,"option":1,"annotation":{"status":4},"ref_num":1}]}}},"15":{"node_name":"filter.15","op_type":"Filter","inputs":{"Filter":{"tensors":[{"name":"group_mark.26","elem_type":7,"option":1,"annotation":{"status":4},"ref_num":1}]},"In":{"tensors":[{"name":"group_mark.21","elem_type":4,"option":1,"annotation":{"status":2},"ref_num":1},{"name":"demo.user_credit.income.22","elem_type":6,"option":1,"annotation":{"status":2},"ref_num":1},{"name":"demo.user_stats.order_amount.23","elem_type":6,"option":1,"annotation":{"status":2},"ref_num":1},{"name":"demo.user_credit.credit_rank.24","elem_type":4,"option":1,"annotation":{"status":2},"ref_num":1}]}},"outputs":{"Out":{"tensors":[{"name":"group_mark.27","elem_type":4,"option":1,"annotation":{"status":2},"ref_num":3},{"name":"demo.user_credit.income.28","elem_type":6,"option":1,"annotation":{"status":2},"ref_num":1},{"name":"demo.user_stats.order_amount.29","elem_type":6,"option":1,"annotation":{"status":2},"ref_num":1},{"name":"demo.user_credit.credit_rank.30","elem_type":4,"option":1,"annotation":{"status":2},"ref_num":1}]}}},"16":{"node_name":"make_constant.16","op_type":"Constant","outputs":{"Out":{"tensors":[{"name":"constant_data.31","elem_type":4,"option":1,"annotation":{"status":4},"ref_num":1}]}},"attributes":{"scalar":{"t":{"name":".0","elem_type":4,"int64_data":["4"]}}}},"17":{"node_name":"broadcast.17","op_type":"BroadcastTo","inputs":{"In":{"tensors":[{"name":"constant_data.31","elem_type":4,"option":1,"annotation":{"status":4},"ref_num":1}]},"ShapeRefTensor":{"tensors":[{"name":"group_mark.27","elem_type":4,"option":1,"annotation":{"status":2},"ref_num":3}]}},"outputs":{"Out":{"tensors":[{"name":"constant_data.32","elem_type":4,"option":1,"annotation":{"status":4},"ref_num":1}]}}},"18":{"node_name":"make_private.18","op_type":"MakePrivate","inputs":{"In":{"tensors":[{"name":"group_mark.27","elem_type":4,"option":1,"annotation":{"status":2},"ref_num":3}]}},"outputs":{"Out":{"tensors":[{"name":"group_mark.33","elem_type":4,"option":1,"annotation":{"status":1},"ref_num":1}]}},"attributes":{"reveal_to":{"t":{"name":".0","elem_type":8,"string_data":["alice"]}}}},"19":{"node_name":"make_private.19","op_type":"MakePrivate","inputs":{"In":{"tensors":[{"name":"constant_data.32","elem_type":4,"option":1,"annotation":{"status":4},"ref_num":1}]}},"outputs":{"Out":{"tensors":[{"name":"constant_data.34","elem_type":4,"option":1,"annotation":{"status":1},"ref_num":1}]}},"attributes":{"reveal_to":{"t":{"name":".0","elem_type":8,"string_data":["alice"]}}}},"2":{"node_name":"join.2","op_type":"Join","inputs":{"Left":{"tensors":[{"name":"demo.user_credit.id.1","elem_type":8,"option":1,"annotation":{"status":1},"ref_num":1}]},"Right":{"tensors":[{"name":"demo.user_stats.id.3","elem_type":8,"option":1,"annotation":{"status":1},"ref_num":1}]}},"outputs":{"LeftJoinIndex":{"tensors":[{"name":"demo.user_credit.id.5","elem_type":4,"option":1,"annotation":{"status":1},"ref_num":1}]},"RightJoinIndex":{"tensors":[{"name":"demo.user_stats.id.6","elem_type":4,"option":1,"annotation":{"status":1},"ref_num":1}]}},"attributes":{"input_party_codes":{"t":{"name":".0","shape":{"dim":[{"dim_value":"2"}]},"elem_type":8,"string_data":["alice","bob"]}},"join_type":{"t":{"name":".0","elem_type":4,"int64_data":["0"]}},"psi_algorithm":{"t":{"name":".0","elem_type":4,"int64_data":["0"]}}}},"21":{"node_name":"make_public.21","op_type":"MakePublic","inputs":{"In":{"tensors":[{"name":"GreaterEqual_out.35","elem_type":7,"option":1,"annotation":{"status":1},"ref_num":1}]}},"outputs":{"Out":{"tensors":[{"name":"GreaterEqual_out.36","elem_type":7,"option":1,"annotation":{"status":4},"ref_num":1}]}}},"22":{"node_name":"apply_filter.22","op_type":"Filter","inputs":{"Filter":{"tensors":[{"name":"GreaterEqual_out.36","elem_type":7,"option":1,"annotation":{"status":4},"ref_num":1}]},"In":{"tensors":[{"name":"demo.user_credit.credit_rank.30","elem_type":4,"option":1,"annotation":{"status":2},"ref_num":1},{"name":"group_mark.27","elem_type":4,"option":1,"annotation":{"status":2},"ref_num":3},{"name":"demo.user_credit.income.28","elem_type":6,"option":1,"annotation":{"status":2},"ref_num":1},{"name":"demo.user_stats.order_amount.29","elem_type":6,"option":1,"annotation":{"status":2},"ref_num":1}]}},"outputs":{"Out":{"tensors":[{"name":"demo.user_credit.credit_rank.37","elem_type":4,"option":1,"annotation":{"status":2},"ref_num":1},{"name":"group_mark.38","elem_type":4,"option":1,"annotation":{"status":2},"ref_num":1},{"name":"demo.user_credit.income.39","elem_type":6,"option":1,"annotation":{"status":2},"ref_num":1},{"name":"demo.user_stats.order_amount.40","elem_type":6,"option":1,"annotation":{"status":2},"ref_num":1}]}}},"23":{"node_name":"make_private.23","op_type":"MakePrivate","inputs":{"In":{"tensors":[{"name":"demo.user_credit.credit_rank.37","elem_type":4,"option":1,"annotation":{"status":2},"ref_num":1}]}},"outputs":{"Out":{"tensors":[{"name":"demo.user_credit.credit_rank.41","elem_type":4,"option":1,"annotation":{"status":1},"ref_num":1}]}},"attributes":{"reveal_to":{"t":{"name":".0","elem_type":8,"string_data":["alice"]}}}},"24":{"node_name":"make_private.24","op_type":"MakePrivate","inputs":{"In":{"tensors":[{"name":"group_mark.38","elem_type":4,"option":1,"annotation":{"status":2},"ref_num":1}]}},"outputs":{"Out":{"tensors":[{"name":"group_mark.43","elem_type":4,"option":1,"annotation":{"status":1},"ref_num":1}]}},"attributes":{"reveal_to":{"t":{"name":".0","elem_type":8,"string_data":["alice"]}}}},"25":{"node_name":"make_private.25","op_type":"MakePrivate","inputs":{"In":{"tensors":[{"name":"demo.user_credit.income.39","elem_type":6,"option":1,"annotation":{"status":2},"ref_num":1}]}},"outputs":{"Out":{"tensors":[{"name":"demo.user_credit.income.45","elem_type":6,"option":1,"annotation":{"status":1},"ref_num":1}]}},"attributes":{"reveal_to":{"t":{"name":".0","elem_type":8,"string_data":["alice"]}}}},"26":{"node_name":"make_private.26","op_type":"MakePrivate","inputs":{"In":{"tensors":[{"name":"demo.user_stats.order_amount.40","elem_type":6,"option":1,"annotation":{"status":2},"ref_num":1}]}},"outputs":{"Out":{"tensors":[{"name":"demo.user_stats.order_amount.47","elem_type":6,"option":1,"annotation":{"status":1},"ref_num":1}]}},"attributes":{"reveal_to":{"t":{"name":".0","elem_type":8,"string_data":["alice"]}}}},"4":{"node_name":"filter_by_index.4","op_type":"FilterByIndex","inputs":{"Data":{"tensors":[{"name":"demo.user_stats.order_amount.4","elem_type":6,"option":1,"annotation":{"status":1},"ref_num":1}]},"RowsIndexFilter":{"tensors":[{"name":"demo.user_stats.id.6","elem_type":4,"option":1,"annotation":{"status":1},"ref_num":1}]}},"outputs":{"Out":{"tensors":[{"name":"demo.user_stats.order_amount.9","elem_type":6,"option":1,"annotation":{"status":1},"ref_num":1}]}}},"5":{"node_name":"make_share.5","op_type":"MakeShare","inputs":{"In":{"tensors":[{"name":"demo.user_credit.credit_rank.7","elem_type":4,"option":1,"annotation":{"status":1},"ref_num":1}]}},"outputs":{"Out":{"tensors":[{"name":"demo.user_credit.credit_rank.10","elem_type":4,"option":1,"annotation":{"status":2},"ref_num":3}]}}},"6":{"node_name":"make_share.6","op_type":"MakeShare","inputs":{"In":{"tensors":[{"name":"demo.user_credit.income.8","elem_type":4,"option":1,"annotation":{"status":1},"ref_num":1}]}},"outputs":{"Out":{"tensors":[{"name":"demo.user_credit.income.11","elem_type":4,"option":1,"annotation":{"status":2},"ref_num":1}]}}},"7":{"node_name":"make_share.7","op_type":"MakeShare","inputs":{"In":{"tensors":[{"name":"demo.user_stats.order_amount.9","elem_type":6,"option":1,"annotation":{"status":1},"ref_num":1}]}},"outputs":{"Out":{"tensors":[{"name":"demo.user_stats.order_amount.12","elem_type":6,"option":1,"annotation":{"status":2},"ref_num":1}]}}},"8":{"node_name":"sort.8","op_type":"Sort","inputs":{"In":{"tensors":[{"name":"demo.user_credit.credit_rank.10","elem_type":4,"option":1,"annotation":{"status":2},"ref_num":3},{"name":"demo.user_credit.credit_rank.10","elem_type":4,"option":1,"annotation":{"status":2},"ref_num":3},{"name":"demo.user_credit.income.11","elem_type":4,"option":1,"annotation":{"status":2},"ref_num":1},{"name":"demo.user_stats.order_amount.12","elem_type":6,"option":1,"annotation":{"status":2},"ref_num":1}]},"Key":{"tensors":[{"name":"demo.user_credit.credit_rank.10","elem_type":4,"option":1,"annotation":{"status":2},"ref_num":3}]}},"outputs":{"Out":{"tensors":[{"name":"demo.user_credit.credit_rank.13","elem_type":4,"option":1,"annotation":{"status":2},"ref_num":1},{"name":"demo.user_credit.credit_rank.14","elem_type":4,"option":1,"annotation":{"status":2},"ref_num":1},{"name":"demo.user_credit.income.15","elem_type":4,"option":1,"annotation":{"status":2},"ref_num":1},{"name":"demo.user_stats.order_amount.16","elem_type":6,"option":1,"annotation":{"status":2},"ref_num":1}]}},"attributes":{"reverse":{"t":{"name":".0","elem_type":7,"bool_data":[false]}}}},"9":{"node_name":"group_mark.9","op_type":"ObliviousGroupMark","inputs":{"Key":{"tensors":[{"name":"demo.user_credit.credit_rank.13","elem_type":4,"option":1,"annotation":{"status":2},"ref_num":1}]}},"outputs":{"Group":{"tensors":[{"name":"group_mark.17","elem_type":7,"option":1,"annotation":{"status":2},"ref_num":5}]}}}},"policy":{"worker_num":1,"pipelines":[{"subdags":[{},{"jobs":[{"node_ids":["1"]}]},{"jobs":[{"node_ids":["16"]}],"need_call_barrier_after_jobs":true},{"jobs":[{"node_ids":["2"]}],"need_call_barrier_after_jobs":true},{},{"jobs":[{"node_ids":["4"]}]},{"jobs":[{"node_ids":["5"]}],"need_call_barrier_after_jobs":true},{"jobs":[{"node_ids":["6"]}],"need_call_barrier_after_jobs":true},{"jobs":[{"node_ids":["7"]}],"need_call_barrier_after_jobs":true},{"jobs":[{"node_ids":["8"]}],"need_call_barrier_after_jobs":true},{"jobs":[{"node_ids":["9"]}],"need_call_barrier_after_jobs":true},{"jobs":[{"node_ids":["10"]}],"need_call_barrier_after_jobs":true},{"jobs":[{"node_ids":["11"]}],"need_call_barrier_after_jobs":true},{"jobs":[{"node_ids":["12"]}],"need_call_barrier_after_jobs":true},{"jobs":[{"node_ids":["13"]}],"need_call_barrier_after_jobs":true},{"jobs":[{"node_ids":["14"]}],"need_call_barrier_after_jobs":true},{"jobs":[{"node_ids":["15"]}],"need_call_barrier_after_jobs":true},{"jobs":[{"node_ids":["17"]}],"need_call_barrier_after_jobs":true},{"jobs":[{"node_ids":["18"]}],"need_call_barrier_after_jobs":true},{"jobs":[{"node_ids":["19"]}],"need_call_barrier_after_jobs":true},{},{"jobs":[{"node_ids":["21"]}],"need_call_barrier_after_jobs":true},{"jobs":[{"node_ids":["22"]}],"need_call_barrier_after_jobs":true},{"jobs":[{"node_ids":["23"]}],"need_call_barrier_after_jobs":true},{"jobs":[{"node_ids":["24"]}],"need_call_barrier_after_jobs":true},{"jobs":[{"node_ids":["25"]}],"need_call_barrier_after_jobs":true},{"jobs":[{"node_ids":["26"]}],"need_call_barrier_after_jobs":true},{}]}]},"sub_graph_checksum":"90330ea562051d19e7958091a4915e99b59a2b889844d92326aebef98ece9642"},"graph_checksum":{},"callback_url":"http://localhost:8080/cb/engine"}
2025-12-01 00:04:34.842 [info] [engine_service_impl.cc:RunPlanCore:476] [job(43a187d7-ce06-11f0-91a2-0242ac110007)] session(43a187d7-ce06-11f0-91a2-0242ac110007) start to execute pipeline(0) batch(0)
2025-12-01 00:04:34.842 [info] [engine_service_impl.cc:RunPlanCore:488] [job(43a187d7-ce06-11f0-91a2-0242ac110007)] session(43a187d7-ce06-11f0-91a2-0242ac110007) start to execute node(runsql.1) op(RunSQL) pipeline(0) batch(0)
2025-12-01 00:04:34.857 [error] [engine_service_impl.cc:RunPlanSync:589] [job(43a187d7-ce06-11f0-91a2-0242ac110007)] RunExecutionPlan run jobs(43a187d7-ce06-11f0-91a2-0242ac110007) failed, catch std::exception=[engine/datasource/odbc_connector.cc:99] create session catch unexpected Poco::Data::DataException: Connection attempt failed: Can't connect to local MySQL server through socket '/tmp/mysql.sock' (2)
2025-12-01 00:04:34.857 [warning] [session_manager.cc:CompareAndSetState:264] [scqlengine] session(43a187d7-ce06-11f0-91a2-0242ac110007), failed to transition state from COMPUTATION_FINISHED to SUCCEEDED. Current state was not the expected one.
2025-12-01 00:04:34.857 [info] [session_manager.cc:RemoveSession:217] [scqlengine] session(43a187d7-ce06-11f0-91a2-0242ac110007) removed, running_cost(19ms), current running session=0
2025-12-01 00:04:34.858 [warning] [session_manager.cc:GetSession:145] [scqlengine] session(43a187d7-ce06-11f0-91a2-0242ac110007) not exists. default return nullptr.
2025-12-01 00:04:34.858 [warning] [channel.h:~Channel:163] [scqlengine] Channel destructor is called before WaitLinkTaskFinish, try stop send thread
2025-12-01 00:04:34.915 [info] [session_manager.cc:CreateSession:131] [scqlengine] create session(43ae808d-ce06-11f0-91a2-0242ac110007) succ, cost(0ms), current running session=1
2025-12-01 00:04:34.915 [info] [engine_service_impl.cc:CheckGraphChecksum:177] [job(43ae808d-ce06-11f0-91a2-0242ac110007)] skip checking graph checksum
2025-12-01 00:04:34.915 [info] [engine_service_impl.cc:RunExecutionPlan:283] [job(43ae808d-ce06-11f0-91a2-0242ac110007)] [RunExecutionPlan] Session created successfully, start to run plan, client = 127.0.0.1:50728
RunExecutionPlanRequest = {"job_params":{"party_code":"bob","parties":[{"code":"bob","name":"bob","host":"localhost:8004","public_key":"MCowBQYDK2VwAyEAeKWKsxJVF5cvfB693Jb/HI1CCJA6WZyVeS6ErCLlj4w="}],"job_id":"43ae808d-ce06-11f0-91a2-0242ac110007","spu_runtime_cfg":{"protocol":2,"field":2,"public_random_seed":"2407132246605535116"}},"graph":{"nodes":{"0":{"node_name":"runsql.0","op_type":"RunSQL","outputs":{"Out":{"tensors":[{"name":"Column#4.0","elem_type":6,"option":1,"annotation":{"status":1},"ref_num":1}]}},"attributes":{"sql":{"t":{"name":".0","elem_type":8,"string_data":["select avg(tb.order_amount) as avg_amount from bob.user_stats as tb;"]}},"table_refs":{"t":{"name":".0","shape":{"dim":[{"dim_value":"1"}]},"elem_type":8,"string_data":["bob.user_stats"]}}}},"1":{"node_name":"publish.1","op_type":"Publish","inputs":{"In":{"tensors":[{"name":"Column#4.0","elem_type":6,"option":1,"annotation":{"status":1},"ref_num":1}]}},"outputs":{"Out":{"tensors":[{"name":"avg_amount.1","elem_type":8,"annotation":{"status":1},"string_data":["avg_amount"]}]}}}},"policy":{"worker_num":1,"pipelines":[{"subdags":[{"jobs":[{"node_ids":["0"]}]},{"jobs":[{"node_ids":["1"]}]}]}]},"sub_graph_checksum":"9bdf24a56c92101a192e6b85eac283b2d281fdef0734eb9a5dbefbd539fb6fde"},"graph_checksum":{},"callback_url":"http://localhost:8080/cb/engine"}
2025-12-01 00:04:34.915 [info] [engine_service_impl.cc:RunPlanCore:476] [job(43ae808d-ce06-11f0-91a2-0242ac110007)] session(43ae808d-ce06-11f0-91a2-0242ac110007) start to execute pipeline(0) batch(0)
2025-12-01 00:04:34.915 [info] [engine_service_impl.cc:RunPlanCore:488] [job(43ae808d-ce06-11f0-91a2-0242ac110007)] session(43ae808d-ce06-11f0-91a2-0242ac110007) start to execute node(runsql.0) op(RunSQL) pipeline(0) batch(0)
2025-12-01 00:04:34.915 [error] [engine_service_impl.cc:RunPlanSync:589] [job(43ae808d-ce06-11f0-91a2-0242ac110007)] RunExecutionPlan run jobs(43ae808d-ce06-11f0-91a2-0242ac110007) failed, catch std::exception=[engine/datasource/odbc_connector.cc:99] create session catch unexpected Poco::Data::DataException: Connection attempt failed: Can't connect to local MySQL server through socket '/tmp/mysql.sock' (2)
2025-12-01 00:04:34.915 [warning] [session_manager.cc:CompareAndSetState:264] [scqlengine] session(43ae808d-ce06-11f0-91a2-0242ac110007), failed to transition state from COMPUTATION_FINISHED to SUCCEEDED. Current state was not the expected one.
2025-12-01 00:04:34.916 [info] [session_manager.cc:RemoveSession:217] [scqlengine] session(43ae808d-ce06-11f0-91a2-0242ac110007) removed, running_cost(0ms), current running session=0
2025-12-01 00:04:34.959 [info] [session_manager.cc:CreateSession:131] [scqlengine] create session(43b53f01-ce06-11f0-91a2-0242ac110007) succ, cost(0ms), current running session=1
2025-12-01 00:04:34.959 [info] [engine_service_impl.cc:CheckGraphChecksum:177] [job(43b53f01-ce06-11f0-91a2-0242ac110007)] skip checking graph checksum
2025-12-01 00:04:34.959 [info] [engine_service_impl.cc:RunExecutionPlan:283] [job(43b53f01-ce06-11f0-91a2-0242ac110007)] [RunExecutionPlan] Session created successfully, start to run plan, client = 127.0.0.1:50732
RunExecutionPlanRequest = {"job_params":{"party_code":"bob","parties":[{"code":"bob","name":"bob","host":"localhost:8004","public_key":"MCowBQYDK2VwAyEAeKWKsxJVF5cvfB693Jb/HI1CCJA6WZyVeS6ErCLlj4w="}],"job_id":"43b53f01-ce06-11f0-91a2-0242ac110007","spu_runtime_cfg":{"protocol":2,"field":2,"public_random_seed":"9117723901669992162"}},"graph":{"nodes":{"0":{"node_name":"runsql.0","op_type":"RunSQL","outputs":{"Out":{"tensors":[{"name":"demo.user_stats.id.0","elem_type":8,"option":1,"annotation":{"status":1},"ref_num":1},{"name":"demo.user_stats.is_active.1","elem_type":4,"option":1,"annotation":{"status":1},"ref_num":1},{"name":"demo.user_stats.order_amount.2","elem_type":6,"option":1,"annotation":{"status":1},"ref_num":1}]}},"attributes":{"sql":{"t":{"name":".0","elem_type":8,"string_data":["select user_stats.id,user_stats.is_active,user_stats.order_amount from bob.user_stats limit 5;"]}},"table_refs":{"t":{"name":".0","shape":{"dim":[{"dim_value":"1"}]},"elem_type":8,"string_data":["bob.user_stats"]}}}},"1":{"node_name":"publish.1","op_type":"Publish","inputs":{"In":{"tensors":[{"name":"demo.user_stats.id.0","elem_type":8,"option":1,"annotation":{"status":1},"ref_num":1},{"name":"demo.user_stats.is_active.1","elem_type":4,"option":1,"annotation":{"status":1},"ref_num":1},{"name":"demo.user_stats.order_amount.2","elem_type":6,"option":1,"annotation":{"status":1},"ref_num":1}]}},"outputs":{"Out":{"tensors":[{"name":"id.3","elem_type":8,"annotation":{"status":1},"string_data":["id"]},{"name":"is_active.4","elem_type":8,"annotation":{"status":1},"string_data":["is_active"]},{"name":"order_amount.5","elem_type":8,"annotation":{"status":1},"string_data":["order_amount"]}]}}}},"policy":{"worker_num":1,"pipelines":[{"subdags":[{"jobs":[{"node_ids":["0"]}]},{"jobs":[{"node_ids":["1"]}]}]}]},"sub_graph_checksum":"80579ef7ff72b888a41a6c3071f7c7eee9b03f0c40281198a9a0ec6409f7560e"},"graph_checksum":{},"callback_url":"http://localhost:8080/cb/engine"}
2025-12-01 00:04:34.959 [info] [engine_service_impl.cc:RunPlanCore:476] [job(43b53f01-ce06-11f0-91a2-0242ac110007)] session(43b53f01-ce06-11f0-91a2-0242ac110007) start to execute pipeline(0) batch(0)
2025-12-01 00:04:34.959 [info] [engine_service_impl.cc:RunPlanCore:488] [job(43b53f01-ce06-11f0-91a2-0242ac110007)] session(43b53f01-ce06-11f0-91a2-0242ac110007) start to execute node(runsql.0) op(RunSQL) pipeline(0) batch(0)
2025-12-01 00:04:34.959 [error] [engine_service_impl.cc:RunPlanSync:589] [job(43b53f01-ce06-11f0-91a2-0242ac110007)] RunExecutionPlan run jobs(43b53f01-ce06-11f0-91a2-0242ac110007) failed, catch std::exception=[engine/datasource/odbc_connector.cc:99] create session catch unexpected Poco::Data::DataException: Connection attempt failed: Can't connect to local MySQL server through socket '/tmp/mysql.sock' (2)
2025-12-01 00:04:34.959 [warning] [session_manager.cc:CompareAndSetState:264] [scqlengine] session(43b53f01-ce06-11f0-91a2-0242ac110007), failed to transition state from COMPUTATION_FINISHED to SUCCEEDED. Current state was not the expected one.
2025-12-01 00:04:34.959 [info] [session_manager.cc:RemoveSession:217] [scqlengine] session(43b53f01-ce06-11f0-91a2-0242ac110007) removed, running_cost(0ms), current running session=0
2025-12-01 00:04:47.909 [info] [session_manager.cc:CreateSession:131] [scqlengine] create session(4b589cce-ce06-11f0-91a2-0242ac110007) succ, cost(126ms), current running session=1
2025-12-01 00:04:47.909 [info] [engine_service_impl.cc:CheckGraphChecksum:177] [job(4b589cce-ce06-11f0-91a2-0242ac110007)] skip checking graph checksum
2025-12-01 00:04:47.909 [info] [engine_service_impl.cc:RunExecutionPlan:283] [job(4b589cce-ce06-11f0-91a2-0242ac110007)] [RunExecutionPlan] Session created successfully, start to run plan, client = 127.0.0.1:52416
RunExecutionPlanRequest = {"job_params":{"party_code":"bob","parties":[{"code":"alice","name":"alice","host":"localhost:8003","public_key":"MCowBQYDK2VwAyEAocQ8CID0RXLpbkHhS56TuGdkMJpVMLGB6q9xwWtCIIo="},{"code":"bob","name":"bob","host":"localhost:8004","rank":1,"public_key":"MCowBQYDK2VwAyEAeKWKsxJVF5cvfB693Jb/HI1CCJA6WZyVeS6ErCLlj4w="}],"job_id":"4b589cce-ce06-11f0-91a2-0242ac110007","spu_runtime_cfg":{"protocol":2,"field":2,"public_random_seed":"5624734646382920955"}},"graph":{"nodes":{"1":{"node_name":"runsql.1","op_type":"RunSQL","outputs":{"Out":{"tensors":[{"name":"demo.user_stats.id.3","elem_type":8,"option":1,"annotation":{"status":1},"ref_num":1},{"name":"demo.user_stats.order_amount.4","elem_type":6,"option":1,"annotation":{"status":1},"ref_num":1}]}},"attributes":{"sql":{"t":{"name":".0","elem_type":8,"string_data":["select tb.id,tb.order_amount from bob.user_stats as tb where tb.is_active=1;"]}},"table_refs":{"t":{"name":".0","shape":{"dim":[{"dim_value":"1"}]},"elem_type":8,"string_data":["bob.user_stats"]}}}},"10":{"node_name":"count.10","op_type":"ObliviousGroupCount","inputs":{"Group":{"tensors":[{"name":"group_mark.17","elem_type":7,"option":1,"annotation":{"status":2},"ref_num":5}]},"In":{"tensors":[{"name":"group_mark.17","elem_type":7,"option":1,"annotation":{"status":2},"ref_num":5}]}},"outputs":{"Out":{"tensors":[{"name":"group_mark.18","elem_type":4,"option":1,"annotation":{"status":2},"ref_num":1}]}}},"11":{"node_name":"avg.11","op_type":"ObliviousGroupAvg","inputs":{"Group":{"tensors":[{"name":"group_mark.17","elem_type":7,"option":1,"annotation":{"status":2},"ref_num":5}]},"In":{"tensors":[{"name":"demo.user_credit.income.15","elem_type":4,"option":1,"annotation":{"status":2},"ref_num":1}]}},"outputs":{"Out":{"tensors":[{"name":"demo.user_credit.income.19","elem_type":6,"option":1,"annotation":{"status":2},"ref_num":1}]}}},"12":{"node_name":"avg.12","op_type":"ObliviousGroupAvg","inputs":{"Group":{"tensors":[{"name":"group_mark.17","elem_type":7,"option":1,"annotation":{"status":2},"ref_num":5}]},"In":{"tensors":[{"name":"demo.user_stats.order_amount.16","elem_type":6,"option":1,"annotation":{"status":2},"ref_num":1}]}},"outputs":{"Out":{"tensors":[{"name":"demo.user_stats.order_amount.20","elem_type":6,"option":1,"annotation":{"status":2},"ref_num":1}]}}},"13":{"node_name":"shuffle.13","op_type":"Shuffle","inputs":{"In":{"tensors":[{"name":"group_mark.18","elem_type":4,"option":1,"annotation":{"status":2},"ref_num":1},{"name":"demo.user_credit.income.19","elem_type":6,"option":1,"annotation":{"status":2},"ref_num":1},{"name":"demo.user_stats.order_amount.20","elem_type":6,"option":1,"annotation":{"status":2},"ref_num":1},{"name":"demo.user_credit.credit_rank.14","elem_type":4,"option":1,"annotation":{"status":2},"ref_num":1},{"name":"group_mark.17","elem_type":7,"option":1,"annotation":{"status":2},"ref_num":5}]}},"outputs":{"Out":{"tensors":[{"name":"group_mark.21","elem_type":4,"option":1,"annotation":{"status":2},"ref_num":1},{"name":"demo.user_credit.income.22","elem_type":6,"option":1,"annotation":{"status":2},"ref_num":1},{"name":"demo.user_stats.order_amount.23","elem_type":6,"option":1,"annotation":{"status":2},"ref_num":1},{"name":"demo.user_credit.credit_rank.24","elem_type":4,"option":1,"annotation":{"status":2},"ref_num":1},{"name":"group_mark.25","elem_type":7,"option":1,"annotation":{"status":2},"ref_num":1}]}}},"14":{"node_name":"make_public.14","op_type":"MakePublic","inputs":{"In":{"tensors":[{"name":"group_mark.25","elem_type":7,"option":1,"annotation":{"status":2},"ref_num":1}]}},"outputs":{"Out":{"tensors":[{"name":"group_mark.26","elem_type":7,"option":1,"annotation":{"status":4},"ref_num":1}]}}},"15":{"node_name":"filter.15","op_type":"Filter","inputs":{"Filter":{"tensors":[{"name":"group_mark.26","elem_type":7,"option":1,"annotation":{"status":4},"ref_num":1}]},"In":{"tensors":[{"name":"group_mark.21","elem_type":4,"option":1,"annotation":{"status":2},"ref_num":1},{"name":"demo.user_credit.income.22","elem_type":6,"option":1,"annotation":{"status":2},"ref_num":1},{"name":"demo.user_stats.order_amount.23","elem_type":6,"option":1,"annotation":{"status":2},"ref_num":1},{"name":"demo.user_credit.credit_rank.24","elem_type":4,"option":1,"annotation":{"status":2},"ref_num":1}]}},"outputs":{"Out":{"tensors":[{"name":"group_mark.27","elem_type":4,"option":1,"annotation":{"status":2},"ref_num":3},{"name":"demo.user_credit.income.28","elem_type":6,"option":1,"annotation":{"status":2},"ref_num":1},{"name":"demo.user_stats.order_amount.29","elem_type":6,"option":1,"annotation":{"status":2},"ref_num":1},{"name":"demo.user_credit.credit_rank.30","elem_type":4,"option":1,"annotation":{"status":2},"ref_num":1}]}}},"16":{"node_name":"make_constant.16","op_type":"Constant","outputs":{"Out":{"tensors":[{"name":"constant_data.31","elem_type":4,"option":1,"annotation":{"status":4},"ref_num":1}]}},"attributes":{"scalar":{"t":{"name":".0","elem_type":4,"int64_data":["4"]}}}},"17":{"node_name":"broadcast.17","op_type":"BroadcastTo","inputs":{"In":{"tensors":[{"name":"constant_data.31","elem_type":4,"option":1,"annotation":{"status":4},"ref_num":1}]},"ShapeRefTensor":{"tensors":[{"name":"group_mark.27","elem_type":4,"option":1,"annotation":{"status":2},"ref_num":3}]}},"outputs":{"Out":{"tensors":[{"name":"constant_data.32","elem_type":4,"option":1,"annotation":{"status":4},"ref_num":1}]}}},"18":{"node_name":"make_private.18","op_type":"MakePrivate","inputs":{"In":{"tensors":[{"name":"group_mark.27","elem_type":4,"option":1,"annotation":{"status":2},"ref_num":3}]}},"outputs":{"Out":{"tensors":[{"name":"group_mark.33","elem_type":4,"option":1,"annotation":{"status":1},"ref_num":1}]}},"attributes":{"reveal_to":{"t":{"name":".0","elem_type":8,"string_data":["alice"]}}}},"19":{"node_name":"make_private.19","op_type":"MakePrivate","inputs":{"In":{"tensors":[{"name":"constant_data.32","elem_type":4,"option":1,"annotation":{"status":4},"ref_num":1}]}},"outputs":{"Out":{"tensors":[{"name":"constant_data.34","elem_type":4,"option":1,"annotation":{"status":1},"ref_num":1}]}},"attributes":{"reveal_to":{"t":{"name":".0","elem_type":8,"string_data":["alice"]}}}},"2":{"node_name":"join.2","op_type":"Join","inputs":{"Left":{"tensors":[{"name":"demo.user_credit.id.1","elem_type":8,"option":1,"annotation":{"status":1},"ref_num":1}]},"Right":{"tensors":[{"name":"demo.user_stats.id.3","elem_type":8,"option":1,"annotation":{"status":1},"ref_num":1}]}},"outputs":{"LeftJoinIndex":{"tensors":[{"name":"demo.user_credit.id.5","elem_type":4,"option":1,"annotation":{"status":1},"ref_num":1}]},"RightJoinIndex":{"tensors":[{"name":"demo.user_stats.id.6","elem_type":4,"option":1,"annotation":{"status":1},"ref_num":1}]}},"attributes":{"input_party_codes":{"t":{"name":".0","shape":{"dim":[{"dim_value":"2"}]},"elem_type":8,"string_data":["alice","bob"]}},"join_type":{"t":{"name":".0","elem_type":4,"int64_data":["0"]}},"psi_algorithm":{"t":{"name":".0","elem_type":4,"int64_data":["0"]}}}},"21":{"node_name":"make_public.21","op_type":"MakePublic","inputs":{"In":{"tensors":[{"name":"GreaterEqual_out.35","elem_type":7,"option":1,"annotation":{"status":1},"ref_num":1}]}},"outputs":{"Out":{"tensors":[{"name":"GreaterEqual_out.36","elem_type":7,"option":1,"annotation":{"status":4},"ref_num":1}]}}},"22":{"node_name":"apply_filter.22","op_type":"Filter","inputs":{"Filter":{"tensors":[{"name":"GreaterEqual_out.36","elem_type":7,"option":1,"annotation":{"status":4},"ref_num":1}]},"In":{"tensors":[{"name":"demo.user_credit.credit_rank.30","elem_type":4,"option":1,"annotation":{"status":2},"ref_num":1},{"name":"group_mark.27","elem_type":4,"option":1,"annotation":{"status":2},"ref_num":3},{"name":"demo.user_credit.income.28","elem_type":6,"option":1,"annotation":{"status":2},"ref_num":1},{"name":"demo.user_stats.order_amount.29","elem_type":6,"option":1,"annotation":{"status":2},"ref_num":1}]}},"outputs":{"Out":{"tensors":[{"name":"demo.user_credit.credit_rank.37","elem_type":4,"option":1,"annotation":{"status":2},"ref_num":1},{"name":"group_mark.38","elem_type":4,"option":1,"annotation":{"status":2},"ref_num":1},{"name":"demo.user_credit.income.39","elem_type":6,"option":1,"annotation":{"status":2},"ref_num":1},{"name":"demo.user_stats.order_amount.40","elem_type":6,"option":1,"annotation":{"status":2},"ref_num":1}]}}},"23":{"node_name":"make_private.23","op_type":"MakePrivate","inputs":{"In":{"tensors":[{"name":"demo.user_credit.credit_rank.37","elem_type":4,"option":1,"annotation":{"status":2},"ref_num":1}]}},"outputs":{"Out":{"tensors":[{"name":"demo.user_credit.credit_rank.41","elem_type":4,"option":1,"annotation":{"status":1},"ref_num":1}]}},"attributes":{"reveal_to":{"t":{"name":".0","elem_type":8,"string_data":["alice"]}}}},"24":{"node_name":"make_private.24","op_type":"MakePrivate","inputs":{"In":{"tensors":[{"name":"group_mark.38","elem_type":4,"option":1,"annotation":{"status":2},"ref_num":1}]}},"outputs":{"Out":{"tensors":[{"name":"group_mark.43","elem_type":4,"option":1,"annotation":{"status":1},"ref_num":1}]}},"attributes":{"reveal_to":{"t":{"name":".0","elem_type":8,"string_data":["alice"]}}}},"25":{"node_name":"make_private.25","op_type":"MakePrivate","inputs":{"In":{"tensors":[{"name":"demo.user_credit.income.39","elem_type":6,"option":1,"annotation":{"status":2},"ref_num":1}]}},"outputs":{"Out":{"tensors":[{"name":"demo.user_credit.income.45","elem_type":6,"option":1,"annotation":{"status":1},"ref_num":1}]}},"attributes":{"reveal_to":{"t":{"name":".0","elem_type":8,"string_data":["alice"]}}}},"26":{"node_name":"make_private.26","op_type":"MakePrivate","inputs":{"In":{"tensors":[{"name":"demo.user_stats.order_amount.40","elem_type":6,"option":1,"annotation":{"status":2},"ref_num":1}]}},"outputs":{"Out":{"tensors":[{"name":"demo.user_stats.order_amount.47","elem_type":6,"option":1,"annotation":{"status":1},"ref_num":1}]}},"attributes":{"reveal_to":{"t":{"name":".0","elem_type":8,"string_data":["alice"]}}}},"4":{"node_name":"filter_by_index.4","op_type":"FilterByIndex","inputs":{"Data":{"tensors":[{"name":"demo.user_stats.order_amount.4","elem_type":6,"option":1,"annotation":{"status":1},"ref_num":1}]},"RowsIndexFilter":{"tensors":[{"name":"demo.user_stats.id.6","elem_type":4,"option":1,"annotation":{"status":1},"ref_num":1}]}},"outputs":{"Out":{"tensors":[{"name":"demo.user_stats.order_amount.9","elem_type":6,"option":1,"annotation":{"status":1},"ref_num":1}]}}},"5":{"node_name":"make_share.5","op_type":"MakeShare","inputs":{"In":{"tensors":[{"name":"demo.user_credit.credit_rank.7","elem_type":4,"option":1,"annotation":{"status":1},"ref_num":1}]}},"outputs":{"Out":{"tensors":[{"name":"demo.user_credit.credit_rank.10","elem_type":4,"option":1,"annotation":{"status":2},"ref_num":3}]}}},"6":{"node_name":"make_share.6","op_type":"MakeShare","inputs":{"In":{"tensors":[{"name":"demo.user_credit.income.8","elem_type":4,"option":1,"annotation":{"status":1},"ref_num":1}]}},"outputs":{"Out":{"tensors":[{"name":"demo.user_credit.income.11","elem_type":4,"option":1,"annotation":{"status":2},"ref_num":1}]}}},"7":{"node_name":"make_share.7","op_type":"MakeShare","inputs":{"In":{"tensors":[{"name":"demo.user_stats.order_amount.9","elem_type":6,"option":1,"annotation":{"status":1},"ref_num":1}]}},"outputs":{"Out":{"tensors":[{"name":"demo.user_stats.order_amount.12","elem_type":6,"option":1,"annotation":{"status":2},"ref_num":1}]}}},"8":{"node_name":"sort.8","op_type":"Sort","inputs":{"In":{"tensors":[{"name":"demo.user_credit.credit_rank.10","elem_type":4,"option":1,"annotation":{"status":2},"ref_num":3},{"name":"demo.user_credit.credit_rank.10","elem_type":4,"option":1,"annotation":{"status":2},"ref_num":3},{"name":"demo.user_credit.income.11","elem_type":4,"option":1,"annotation":{"status":2},"ref_num":1},{"name":"demo.user_stats.order_amount.12","elem_type":6,"option":1,"annotation":{"status":2},"ref_num":1}]},"Key":{"tensors":[{"name":"demo.user_credit.credit_rank.10","elem_type":4,"option":1,"annotation":{"status":2},"ref_num":3}]}},"outputs":{"Out":{"tensors":[{"name":"demo.user_credit.credit_rank.13","elem_type":4,"option":1,"annotation":{"status":2},"ref_num":1},{"name":"demo.user_credit.credit_rank.14","elem_type":4,"option":1,"annotation":{"status":2},"ref_num":1},{"name":"demo.user_credit.income.15","elem_type":4,"option":1,"annotation":{"status":2},"ref_num":1},{"name":"demo.user_stats.order_amount.16","elem_type":6,"option":1,"annotation":{"status":2},"ref_num":1}]}},"attributes":{"reverse":{"t":{"name":".0","elem_type":7,"bool_data":[false]}}}},"9":{"node_name":"group_mark.9","op_type":"ObliviousGroupMark","inputs":{"Key":{"tensors":[{"name":"demo.user_credit.credit_rank.13","elem_type":4,"option":1,"annotation":{"status":2},"ref_num":1}]}},"outputs":{"Group":{"tensors":[{"name":"group_mark.17","elem_type":7,"option":1,"annotation":{"status":2},"ref_num":5}]}}}},"policy":{"worker_num":1,"pipelines":[{"subdags":[{},{"jobs":[{"node_ids":["1"]}]},{"jobs":[{"node_ids":["16"]}],"need_call_barrier_after_jobs":true},{"jobs":[{"node_ids":["2"]}],"need_call_barrier_after_jobs":true},{},{"jobs":[{"node_ids":["4"]}]},{"jobs":[{"node_ids":["5"]}],"need_call_barrier_after_jobs":true},{"jobs":[{"node_ids":["6"]}],"need_call_barrier_after_jobs":true},{"jobs":[{"node_ids":["7"]}],"need_call_barrier_after_jobs":true},{"jobs":[{"node_ids":["8"]}],"need_call_barrier_after_jobs":true},{"jobs":[{"node_ids":["9"]}],"need_call_barrier_after_jobs":true},{"jobs":[{"node_ids":["10"]}],"need_call_barrier_after_jobs":true},{"jobs":[{"node_ids":["11"]}],"need_call_barrier_after_jobs":true},{"jobs":[{"node_ids":["12"]}],"need_call_barrier_after_jobs":true},{"jobs":[{"node_ids":["13"]}],"need_call_barrier_after_jobs":true},{"jobs":[{"node_ids":["14"]}],"need_call_barrier_after_jobs":true},{"jobs":[{"node_ids":["15"]}],"need_call_barrier_after_jobs":true},{"jobs":[{"node_ids":["17"]}],"need_call_barrier_after_jobs":true},{"jobs":[{"node_ids":["18"]}],"need_call_barrier_after_jobs":true},{"jobs":[{"node_ids":["19"]}],"need_call_barrier_after_jobs":true},{},{"jobs":[{"node_ids":["21"]}],"need_call_barrier_after_jobs":true},{"jobs":[{"node_ids":["22"]}],"need_call_barrier_after_jobs":true},{"jobs":[{"node_ids":["23"]}],"need_call_barrier_after_jobs":true},{"jobs":[{"node_ids":["24"]}],"need_call_barrier_after_jobs":true},{"jobs":[{"node_ids":["25"]}],"need_call_barrier_after_jobs":true},{"jobs":[{"node_ids":["26"]}],"need_call_barrier_after_jobs":true},{}]}]},"sub_graph_checksum":"90330ea562051d19e7958091a4915e99b59a2b889844d92326aebef98ece9642"},"graph_checksum":{},"callback_url":"http://localhost:8080/cb/engine"}
2025-12-01 00:04:47.909 [info] [engine_service_impl.cc:RunPlanCore:476] [job(4b589cce-ce06-11f0-91a2-0242ac110007)] session(4b589cce-ce06-11f0-91a2-0242ac110007) start to execute pipeline(0) batch(0)
2025-12-01 00:04:47.909 [info] [engine_service_impl.cc:RunPlanCore:488] [job(4b589cce-ce06-11f0-91a2-0242ac110007)] session(4b589cce-ce06-11f0-91a2-0242ac110007) start to execute node(runsql.1) op(RunSQL) pipeline(0) batch(0)
2025-12-01 00:04:47.911 [error] [engine_service_impl.cc:RunPlanSync:589] [job(4b589cce-ce06-11f0-91a2-0242ac110007)] RunExecutionPlan run jobs(4b589cce-ce06-11f0-91a2-0242ac110007) failed, catch std::exception=[engine/datasource/odbc_connector.cc:99] create session catch unexpected Poco::Data::DataException: MySQL: [MySQL]: [Comment]: mysql_stmt_execute error	[mysql_stmt_error]: Unknown or incorrect time zone: 'UTC'	[mysql_stmt_errno]: 1298	[mysql_stmt_sqlstate]: HY000	[statemnt]: SET time_zone = 'UTC';
2025-12-01 00:04:47.912 [warning] [session_manager.cc:CompareAndSetState:264] [scqlengine] session(4b589cce-ce06-11f0-91a2-0242ac110007), failed to transition state from COMPUTATION_FINISHED to SUCCEEDED. Current state was not the expected one.
2025-12-01 00:04:47.912 [info] [session_manager.cc:RemoveSession:217] [scqlengine] session(4b589cce-ce06-11f0-91a2-0242ac110007) removed, running_cost(129ms), current running session=0
2025-12-01 00:04:47.912 [warning] [channel.h:~Channel:163] [scqlengine] Channel destructor is called before WaitLinkTaskFinish, try stop send thread
2025-12-01 00:04:47.912 [warning] [session_manager.cc:GetSession:145] [scqlengine] session(4b589cce-ce06-11f0-91a2-0242ac110007) not exists. default return nullptr.
2025-12-01 00:04:47.976 [info] [session_manager.cc:CreateSession:131] [scqlengine] create session(4b777433-ce06-11f0-91a2-0242ac110007) succ, cost(0ms), current running session=1
2025-12-01 00:04:47.976 [info] [engine_service_impl.cc:CheckGraphChecksum:177] [job(4b777433-ce06-11f0-91a2-0242ac110007)] skip checking graph checksum
2025-12-01 00:04:47.976 [info] [engine_service_impl.cc:RunExecutionPlan:283] [job(4b777433-ce06-11f0-91a2-0242ac110007)] [RunExecutionPlan] Session created successfully, start to run plan, client = 127.0.0.1:52434
RunExecutionPlanRequest = {"job_params":{"party_code":"bob","parties":[{"code":"bob","name":"bob","host":"localhost:8004","public_key":"MCowBQYDK2VwAyEAeKWKsxJVF5cvfB693Jb/HI1CCJA6WZyVeS6ErCLlj4w="}],"job_id":"4b777433-ce06-11f0-91a2-0242ac110007","spu_runtime_cfg":{"protocol":2,"field":2,"public_random_seed":"3197730388305118384"}},"graph":{"nodes":{"0":{"node_name":"runsql.0","op_type":"RunSQL","outputs":{"Out":{"tensors":[{"name":"Column#4.0","elem_type":6,"option":1,"annotation":{"status":1},"ref_num":1}]}},"attributes":{"sql":{"t":{"name":".0","elem_type":8,"string_data":["select avg(tb.order_amount) as avg_amount from bob.user_stats as tb;"]}},"table_refs":{"t":{"name":".0","shape":{"dim":[{"dim_value":"1"}]},"elem_type":8,"string_data":["bob.user_stats"]}}}},"1":{"node_name":"publish.1","op_type":"Publish","inputs":{"In":{"tensors":[{"name":"Column#4.0","elem_type":6,"option":1,"annotation":{"status":1},"ref_num":1}]}},"outputs":{"Out":{"tensors":[{"name":"avg_amount.1","elem_type":8,"annotation":{"status":1},"string_data":["avg_amount"]}]}}}},"policy":{"worker_num":1,"pipelines":[{"subdags":[{"jobs":[{"node_ids":["0"]}]},{"jobs":[{"node_ids":["1"]}]}]}]},"sub_graph_checksum":"9bdf24a56c92101a192e6b85eac283b2d281fdef0734eb9a5dbefbd539fb6fde"},"graph_checksum":{},"callback_url":"http://localhost:8080/cb/engine"}
2025-12-01 00:04:47.976 [info] [engine_service_impl.cc:RunPlanCore:476] [job(4b777433-ce06-11f0-91a2-0242ac110007)] session(4b777433-ce06-11f0-91a2-0242ac110007) start to execute pipeline(0) batch(0)
2025-12-01 00:04:47.976 [info] [engine_service_impl.cc:RunPlanCore:488] [job(4b777433-ce06-11f0-91a2-0242ac110007)] session(4b777433-ce06-11f0-91a2-0242ac110007) start to execute node(runsql.0) op(RunSQL) pipeline(0) batch(0)
2025-12-01 00:04:47.977 [error] [engine_service_impl.cc:RunPlanSync:589] [job(4b777433-ce06-11f0-91a2-0242ac110007)] RunExecutionPlan run jobs(4b777433-ce06-11f0-91a2-0242ac110007) failed, catch std::exception=[engine/datasource/odbc_connector.cc:99] create session catch unexpected Poco::Data::DataException: MySQL: [MySQL]: [Comment]: mysql_stmt_execute error	[mysql_stmt_error]: Unknown or incorrect time zone: 'UTC'	[mysql_stmt_errno]: 1298	[mysql_stmt_sqlstate]: HY000	[statemnt]: SET time_zone = 'UTC';
2025-12-01 00:04:47.977 [warning] [session_manager.cc:CompareAndSetState:264] [scqlengine] session(4b777433-ce06-11f0-91a2-0242ac110007), failed to transition state from COMPUTATION_FINISHED to SUCCEEDED. Current state was not the expected one.
2025-12-01 00:04:47.977 [info] [session_manager.cc:RemoveSession:217] [scqlengine] session(4b777433-ce06-11f0-91a2-0242ac110007) removed, running_cost(0ms), current running session=0
2025-12-01 00:04:48.012 [info] [session_manager.cc:CreateSession:131] [scqlengine] create session(4b7d0e57-ce06-11f0-91a2-0242ac110007) succ, cost(0ms), current running session=1
2025-12-01 00:04:48.013 [info] [engine_service_impl.cc:CheckGraphChecksum:177] [job(4b7d0e57-ce06-11f0-91a2-0242ac110007)] skip checking graph checksum
2025-12-01 00:04:48.013 [info] [engine_service_impl.cc:RunExecutionPlan:283] [job(4b7d0e57-ce06-11f0-91a2-0242ac110007)] [RunExecutionPlan] Session created successfully, start to run plan, client = 127.0.0.1:52450
RunExecutionPlanRequest = {"job_params":{"party_code":"bob","parties":[{"code":"bob","name":"bob","host":"localhost:8004","public_key":"MCowBQYDK2VwAyEAeKWKsxJVF5cvfB693Jb/HI1CCJA6WZyVeS6ErCLlj4w="}],"job_id":"4b7d0e57-ce06-11f0-91a2-0242ac110007","spu_runtime_cfg":{"protocol":2,"field":2,"public_random_seed":"4624569168617172687"}},"graph":{"nodes":{"0":{"node_name":"runsql.0","op_type":"RunSQL","outputs":{"Out":{"tensors":[{"name":"demo.user_stats.id.0","elem_type":8,"option":1,"annotation":{"status":1},"ref_num":1},{"name":"demo.user_stats.is_active.1","elem_type":4,"option":1,"annotation":{"status":1},"ref_num":1},{"name":"demo.user_stats.order_amount.2","elem_type":6,"option":1,"annotation":{"status":1},"ref_num":1}]}},"attributes":{"sql":{"t":{"name":".0","elem_type":8,"string_data":["select user_stats.id,user_stats.is_active,user_stats.order_amount from bob.user_stats limit 5;"]}},"table_refs":{"t":{"name":".0","shape":{"dim":[{"dim_value":"1"}]},"elem_type":8,"string_data":["bob.user_stats"]}}}},"1":{"node_name":"publish.1","op_type":"Publish","inputs":{"In":{"tensors":[{"name":"demo.user_stats.id.0","elem_type":8,"option":1,"annotation":{"status":1},"ref_num":1},{"name":"demo.user_stats.is_active.1","elem_type":4,"option":1,"annotation":{"status":1},"ref_num":1},{"name":"demo.user_stats.order_amount.2","elem_type":6,"option":1,"annotation":{"status":1},"ref_num":1}]}},"outputs":{"Out":{"tensors":[{"name":"id.3","elem_type":8,"annotation":{"status":1},"string_data":["id"]},{"name":"is_active.4","elem_type":8,"annotation":{"status":1},"string_data":["is_active"]},{"name":"order_amount.5","elem_type":8,"annotation":{"status":1},"string_data":["order_amount"]}]}}}},"policy":{"worker_num":1,"pipelines":[{"subdags":[{"jobs":[{"node_ids":["0"]}]},{"jobs":[{"node_ids":["1"]}]}]}]},"sub_graph_checksum":"80579ef7ff72b888a41a6c3071f7c7eee9b03f0c40281198a9a0ec6409f7560e"},"graph_checksum":{},"callback_url":"http://localhost:8080/cb/engine"}
2025-12-01 00:04:48.013 [info] [engine_service_impl.cc:RunPlanCore:476] [job(4b7d0e57-ce06-11f0-91a2-0242ac110007)] session(4b7d0e57-ce06-11f0-91a2-0242ac110007) start to execute pipeline(0) batch(0)
2025-12-01 00:04:48.013 [info] [engine_service_impl.cc:RunPlanCore:488] [job(4b7d0e57-ce06-11f0-91a2-0242ac110007)] session(4b7d0e57-ce06-11f0-91a2-0242ac110007) start to execute node(runsql.0) op(RunSQL) pipeline(0) batch(0)
2025-12-01 00:04:48.013 [error] [engine_service_impl.cc:RunPlanSync:589] [job(4b7d0e57-ce06-11f0-91a2-0242ac110007)] RunExecutionPlan run jobs(4b7d0e57-ce06-11f0-91a2-0242ac110007) failed, catch std::exception=[engine/datasource/odbc_connector.cc:99] create session catch unexpected Poco::Data::DataException: MySQL: [MySQL]: [Comment]: mysql_stmt_execute error	[mysql_stmt_error]: Unknown or incorrect time zone: 'UTC'	[mysql_stmt_errno]: 1298	[mysql_stmt_sqlstate]: HY000	[statemnt]: SET time_zone = 'UTC';
2025-12-01 00:04:48.014 [warning] [session_manager.cc:CompareAndSetState:264] [scqlengine] session(4b7d0e57-ce06-11f0-91a2-0242ac110007), failed to transition state from COMPUTATION_FINISHED to SUCCEEDED. Current state was not the expected one.
2025-12-01 00:04:48.014 [info] [session_manager.cc:RemoveSession:217] [scqlengine] session(4b7d0e57-ce06-11f0-91a2-0242ac110007) removed, running_cost(1ms), current running session=0
2025-12-01 00:05:09.161 [warning] [listener.cc:GetListener:60] [scqlengine] Listener for link_id:5815c3b8-ce06-11f0-91a2-0242ac110007 not exist.
2025-12-01 00:05:09.286 [info] [session_manager.cc:CreateSession:131] [scqlengine] create session(5815c3b8-ce06-11f0-91a2-0242ac110007) succ, cost(124ms), current running session=1
2025-12-01 00:05:09.286 [info] [engine_service_impl.cc:CheckGraphChecksum:177] [job(5815c3b8-ce06-11f0-91a2-0242ac110007)] skip checking graph checksum
2025-12-01 00:05:09.288 [info] [engine_service_impl.cc:RunExecutionPlan:283] [job(5815c3b8-ce06-11f0-91a2-0242ac110007)] [RunExecutionPlan] Session created successfully, start to run plan, client = 127.0.0.1:56060
RunExecutionPlanRequest = {"job_params":{"party_code":"bob","parties":[{"code":"alice","name":"alice","host":"localhost:8003","public_key":"MCowBQYDK2VwAyEAocQ8CID0RXLpbkHhS56TuGdkMJpVMLGB6q9xwWtCIIo="},{"code":"bob","name":"bob","host":"localhost:8004","rank":1,"public_key":"MCowBQYDK2VwAyEAeKWKsxJVF5cvfB693Jb/HI1CCJA6WZyVeS6ErCLlj4w="}],"job_id":"5815c3b8-ce06-11f0-91a2-0242ac110007","spu_runtime_cfg":{"protocol":2,"field":2,"public_random_seed":"6752751233613123268"}},"graph":{"nodes":{"1":{"node_name":"runsql.1","op_type":"RunSQL","outputs":{"Out":{"tensors":[{"name":"demo.user_stats.id.3","elem_type":8,"option":1,"annotation":{"status":1},"ref_num":1},{"name":"demo.user_stats.order_amount.4","elem_type":6,"option":1,"annotation":{"status":1},"ref_num":1}]}},"attributes":{"sql":{"t":{"name":".0","elem_type":8,"string_data":["select tb.id,tb.order_amount from bob.user_stats as tb where tb.is_active=1;"]}},"table_refs":{"t":{"name":".0","shape":{"dim":[{"dim_value":"1"}]},"elem_type":8,"string_data":["bob.user_stats"]}}}},"10":{"node_name":"count.10","op_type":"ObliviousGroupCount","inputs":{"Group":{"tensors":[{"name":"group_mark.17","elem_type":7,"option":1,"annotation":{"status":2},"ref_num":5}]},"In":{"tensors":[{"name":"group_mark.17","elem_type":7,"option":1,"annotation":{"status":2},"ref_num":5}]}},"outputs":{"Out":{"tensors":[{"name":"group_mark.18","elem_type":4,"option":1,"annotation":{"status":2},"ref_num":1}]}}},"11":{"node_name":"avg.11","op_type":"ObliviousGroupAvg","inputs":{"Group":{"tensors":[{"name":"group_mark.17","elem_type":7,"option":1,"annotation":{"status":2},"ref_num":5}]},"In":{"tensors":[{"name":"demo.user_credit.income.15","elem_type":4,"option":1,"annotation":{"status":2},"ref_num":1}]}},"outputs":{"Out":{"tensors":[{"name":"demo.user_credit.income.19","elem_type":6,"option":1,"annotation":{"status":2},"ref_num":1}]}}},"12":{"node_name":"avg.12","op_type":"ObliviousGroupAvg","inputs":{"Group":{"tensors":[{"name":"group_mark.17","elem_type":7,"option":1,"annotation":{"status":2},"ref_num":5}]},"In":{"tensors":[{"name":"demo.user_stats.order_amount.16","elem_type":6,"option":1,"annotation":{"status":2},"ref_num":1}]}},"outputs":{"Out":{"tensors":[{"name":"demo.user_stats.order_amount.20","elem_type":6,"option":1,"annotation":{"status":2},"ref_num":1}]}}},"13":{"node_name":"shuffle.13","op_type":"Shuffle","inputs":{"In":{"tensors":[{"name":"group_mark.18","elem_type":4,"option":1,"annotation":{"status":2},"ref_num":1},{"name":"demo.user_credit.income.19","elem_type":6,"option":1,"annotation":{"status":2},"ref_num":1},{"name":"demo.user_stats.order_amount.20","elem_type":6,"option":1,"annotation":{"status":2},"ref_num":1},{"name":"demo.user_credit.credit_rank.14","elem_type":4,"option":1,"annotation":{"status":2},"ref_num":1},{"name":"group_mark.17","elem_type":7,"option":1,"annotation":{"status":2},"ref_num":5}]}},"outputs":{"Out":{"tensors":[{"name":"group_mark.21","elem_type":4,"option":1,"annotation":{"status":2},"ref_num":1},{"name":"demo.user_credit.income.22","elem_type":6,"option":1,"annotation":{"status":2},"ref_num":1},{"name":"demo.user_stats.order_amount.23","elem_type":6,"option":1,"annotation":{"status":2},"ref_num":1},{"name":"demo.user_credit.credit_rank.24","elem_type":4,"option":1,"annotation":{"status":2},"ref_num":1},{"name":"group_mark.25","elem_type":7,"option":1,"annotation":{"status":2},"ref_num":1}]}}},"14":{"node_name":"make_public.14","op_type":"MakePublic","inputs":{"In":{"tensors":[{"name":"group_mark.25","elem_type":7,"option":1,"annotation":{"status":2},"ref_num":1}]}},"outputs":{"Out":{"tensors":[{"name":"group_mark.26","elem_type":7,"option":1,"annotation":{"status":4},"ref_num":1}]}}},"15":{"node_name":"filter.15","op_type":"Filter","inputs":{"Filter":{"tensors":[{"name":"group_mark.26","elem_type":7,"option":1,"annotation":{"status":4},"ref_num":1}]},"In":{"tensors":[{"name":"group_mark.21","elem_type":4,"option":1,"annotation":{"status":2},"ref_num":1},{"name":"demo.user_credit.income.22","elem_type":6,"option":1,"annotation":{"status":2},"ref_num":1},{"name":"demo.user_stats.order_amount.23","elem_type":6,"option":1,"annotation":{"status":2},"ref_num":1},{"name":"demo.user_credit.credit_rank.24","elem_type":4,"option":1,"annotation":{"status":2},"ref_num":1}]}},"outputs":{"Out":{"tensors":[{"name":"group_mark.27","elem_type":4,"option":1,"annotation":{"status":2},"ref_num":3},{"name":"demo.user_credit.income.28","elem_type":6,"option":1,"annotation":{"status":2},"ref_num":1},{"name":"demo.user_stats.order_amount.29","elem_type":6,"option":1,"annotation":{"status":2},"ref_num":1},{"name":"demo.user_credit.credit_rank.30","elem_type":4,"option":1,"annotation":{"status":2},"ref_num":1}]}}},"16":{"node_name":"make_constant.16","op_type":"Constant","outputs":{"Out":{"tensors":[{"name":"constant_data.31","elem_type":4,"option":1,"annotation":{"status":4},"ref_num":1}]}},"attributes":{"scalar":{"t":{"name":".0","elem_type":4,"int64_data":["4"]}}}},"17":{"node_name":"broadcast.17","op_type":"BroadcastTo","inputs":{"In":{"tensors":[{"name":"constant_data.31","elem_type":4,"option":1,"annotation":{"status":4},"ref_num":1}]},"ShapeRefTensor":{"tensors":[{"name":"group_mark.27","elem_type":4,"option":1,"annotation":{"status":2},"ref_num":3}]}},"outputs":{"Out":{"tensors":[{"name":"constant_data.32","elem_type":4,"option":1,"annotation":{"status":4},"ref_num":1}]}}},"18":{"node_name":"make_private.18","op_type":"MakePrivate","inputs":{"In":{"tensors":[{"name":"group_mark.27","elem_type":4,"option":1,"annotation":{"status":2},"ref_num":3}]}},"outputs":{"Out":{"tensors":[{"name":"group_mark.33","elem_type":4,"option":1,"annotation":{"status":1},"ref_num":1}]}},"attributes":{"reveal_to":{"t":{"name":".0","elem_type":8,"string_data":["alice"]}}}},"19":{"node_name":"make_private.19","op_type":"MakePrivate","inputs":{"In":{"tensors":[{"name":"constant_data.32","elem_type":4,"option":1,"annotation":{"status":4},"ref_num":1}]}},"outputs":{"Out":{"tensors":[{"name":"constant_data.34","elem_type":4,"option":1,"annotation":{"status":1},"ref_num":1}]}},"attributes":{"reveal_to":{"t":{"name":".0","elem_type":8,"string_data":["alice"]}}}},"2":{"node_name":"join.2","op_type":"Join","inputs":{"Left":{"tensors":[{"name":"demo.user_credit.id.1","elem_type":8,"option":1,"annotation":{"status":1},"ref_num":1}]},"Right":{"tensors":[{"name":"demo.user_stats.id.3","elem_type":8,"option":1,"annotation":{"status":1},"ref_num":1}]}},"outputs":{"LeftJoinIndex":{"tensors":[{"name":"demo.user_credit.id.5","elem_type":4,"option":1,"annotation":{"status":1},"ref_num":1}]},"RightJoinIndex":{"tensors":[{"name":"demo.user_stats.id.6","elem_type":4,"option":1,"annotation":{"status":1},"ref_num":1}]}},"attributes":{"input_party_codes":{"t":{"name":".0","shape":{"dim":[{"dim_value":"2"}]},"elem_type":8,"string_data":["alice","bob"]}},"join_type":{"t":{"name":".0","elem_type":4,"int64_data":["0"]}},"psi_algorithm":{"t":{"name":".0","elem_type":4,"int64_data":["0"]}}}},"21":{"node_name":"make_public.21","op_type":"MakePublic","inputs":{"In":{"tensors":[{"name":"GreaterEqual_out.35","elem_type":7,"option":1,"annotation":{"status":1},"ref_num":1}]}},"outputs":{"Out":{"tensors":[{"name":"GreaterEqual_out.36","elem_type":7,"option":1,"annotation":{"status":4},"ref_num":1}]}}},"22":{"node_name":"apply_filter.22","op_type":"Filter","inputs":{"Filter":{"tensors":[{"name":"GreaterEqual_out.36","elem_type":7,"option":1,"annotation":{"status":4},"ref_num":1}]},"In":{"tensors":[{"name":"demo.user_credit.credit_rank.30","elem_type":4,"option":1,"annotation":{"status":2},"ref_num":1},{"name":"group_mark.27","elem_type":4,"option":1,"annotation":{"status":2},"ref_num":3},{"name":"demo.user_credit.income.28","elem_type":6,"option":1,"annotation":{"status":2},"ref_num":1},{"name":"demo.user_stats.order_amount.29","elem_type":6,"option":1,"annotation":{"status":2},"ref_num":1}]}},"outputs":{"Out":{"tensors":[{"name":"demo.user_credit.credit_rank.37","elem_type":4,"option":1,"annotation":{"status":2},"ref_num":1},{"name":"group_mark.38","elem_type":4,"option":1,"annotation":{"status":2},"ref_num":1},{"name":"demo.user_credit.income.39","elem_type":6,"option":1,"annotation":{"status":2},"ref_num":1},{"name":"demo.user_stats.order_amount.40","elem_type":6,"option":1,"annotation":{"status":2},"ref_num":1}]}}},"23":{"node_name":"make_private.23","op_type":"MakePrivate","inputs":{"In":{"tensors":[{"name":"demo.user_credit.credit_rank.37","elem_type":4,"option":1,"annotation":{"status":2},"ref_num":1}]}},"outputs":{"Out":{"tensors":[{"name":"demo.user_credit.credit_rank.41","elem_type":4,"option":1,"annotation":{"status":1},"ref_num":1}]}},"attributes":{"reveal_to":{"t":{"name":".0","elem_type":8,"string_data":["alice"]}}}},"24":{"node_name":"make_private.24","op_type":"MakePrivate","inputs":{"In":{"tensors":[{"name":"group_mark.38","elem_type":4,"option":1,"annotation":{"status":2},"ref_num":1}]}},"outputs":{"Out":{"tensors":[{"name":"group_mark.43","elem_type":4,"option":1,"annotation":{"status":1},"ref_num":1}]}},"attributes":{"reveal_to":{"t":{"name":".0","elem_type":8,"string_data":["alice"]}}}},"25":{"node_name":"make_private.25","op_type":"MakePrivate","inputs":{"In":{"tensors":[{"name":"demo.user_credit.income.39","elem_type":6,"option":1,"annotation":{"status":2},"ref_num":1}]}},"outputs":{"Out":{"tensors":[{"name":"demo.user_credit.income.45","elem_type":6,"option":1,"annotation":{"status":1},"ref_num":1}]}},"attributes":{"reveal_to":{"t":{"name":".0","elem_type":8,"string_data":["alice"]}}}},"26":{"node_name":"make_private.26","op_type":"MakePrivate","inputs":{"In":{"tensors":[{"name":"demo.user_stats.order_amount.40","elem_type":6,"option":1,"annotation":{"status":2},"ref_num":1}]}},"outputs":{"Out":{"tensors":[{"name":"demo.user_stats.order_amount.47","elem_type":6,"option":1,"annotation":{"status":1},"ref_num":1}]}},"attributes":{"reveal_to":{"t":{"name":".0","elem_type":8,"string_data":["alice"]}}}},"4":{"node_name":"filter_by_index.4","op_type":"FilterByIndex","inputs":{"Data":{"tensors":[{"name":"demo.user_stats.order_amount.4","elem_type":6,"option":1,"annotation":{"status":1},"ref_num":1}]},"RowsIndexFilter":{"tensors":[{"name":"demo.user_stats.id.6","elem_type":4,"option":1,"annotation":{"status":1},"ref_num":1}]}},"outputs":{"Out":{"tensors":[{"name":"demo.user_stats.order_amount.9","elem_type":6,"option":1,"annotation":{"status":1},"ref_num":1}]}}},"5":{"node_name":"make_share.5","op_type":"MakeShare","inputs":{"In":{"tensors":[{"name":"demo.user_credit.credit_rank.7","elem_type":4,"option":1,"annotation":{"status":1},"ref_num":1}]}},"outputs":{"Out":{"tensors":[{"name":"demo.user_credit.credit_rank.10","elem_type":4,"option":1,"annotation":{"status":2},"ref_num":3}]}}},"6":{"node_name":"make_share.6","op_type":"MakeShare","inputs":{"In":{"tensors":[{"name":"demo.user_credit.income.8","elem_type":4,"option":1,"annotation":{"status":1},"ref_num":1}]}},"outputs":{"Out":{"tensors":[{"name":"demo.user_credit.income.11","elem_type":4,"option":1,"annotation":{"status":2},"ref_num":1}]}}},"7":{"node_name":"make_share.7","op_type":"MakeShare","inputs":{"In":{"tensors":[{"name":"demo.user_stats.order_amount.9","elem_type":6,"option":1,"annotation":{"status":1},"ref_num":1}]}},"outputs":{"Out":{"tensors":[{"name":"demo.user_stats.order_amount.12","elem_type":6,"option":1,"annotation":{"status":2},"ref_num":1}]}}},"8":{"node_name":"sort.8","op_type":"Sort","inputs":{"In":{"tensors":[{"name":"demo.user_credit.credit_rank.10","elem_type":4,"option":1,"annotation":{"status":2},"ref_num":3},{"name":"demo.user_credit.credit_rank.10","elem_type":4,"option":1,"annotation":{"status":2},"ref_num":3},{"name":"demo.user_credit.income.11","elem_type":4,"option":1,"annotation":{"status":2},"ref_num":1},{"name":"demo.user_stats.order_amount.12","elem_type":6,"option":1,"annotation":{"status":2},"ref_num":1}]},"Key":{"tensors":[{"name":"demo.user_credit.credit_rank.10","elem_type":4,"option":1,"annotation":{"status":2},"ref_num":3}]}},"outputs":{"Out":{"tensors":[{"name":"demo.user_credit.credit_rank.13","elem_type":4,"option":1,"annotation":{"status":2},"ref_num":1},{"name":"demo.user_credit.credit_rank.14","elem_type":4,"option":1,"annotation":{"status":2},"ref_num":1},{"name":"demo.user_credit.income.15","elem_type":4,"option":1,"annotation":{"status":2},"ref_num":1},{"name":"demo.user_stats.order_amount.16","elem_type":6,"option":1,"annotation":{"status":2},"ref_num":1}]}},"attributes":{"reverse":{"t":{"name":".0","elem_type":7,"bool_data":[false]}}}},"9":{"node_name":"group_mark.9","op_type":"ObliviousGroupMark","inputs":{"Key":{"tensors":[{"name":"demo.user_credit.credit_rank.13","elem_type":4,"option":1,"annotation":{"status":2},"ref_num":1}]}},"outputs":{"Group":{"tensors":[{"name":"group_mark.17","elem_type":7,"option":1,"annotation":{"status":2},"ref_num":5}]}}}},"policy":{"worker_num":1,"pipelines":[{"subdags":[{},{"jobs":[{"node_ids":["1"]}]},{"jobs":[{"node_ids":["16"]}],"need_call_barrier_after_jobs":true},{"jobs":[{"node_ids":["2"]}],"need_call_barrier_after_jobs":true},{},{"jobs":[{"node_ids":["4"]}]},{"jobs":[{"node_ids":["5"]}],"need_call_barrier_after_jobs":true},{"jobs":[{"node_ids":["6"]}],"need_call_barrier_after_jobs":true},{"jobs":[{"node_ids":["7"]}],"need_call_barrier_after_jobs":true},{"jobs":[{"node_ids":["8"]}],"need_call_barrier_after_jobs":true},{"jobs":[{"node_ids":["9"]}],"need_call_barrier_after_jobs":true},{"jobs":[{"node_ids":["10"]}],"need_call_barrier_after_jobs":true},{"jobs":[{"node_ids":["11"]}],"need_call_barrier_after_jobs":true},{"jobs":[{"node_ids":["12"]}],"need_call_barrier_after_jobs":true},{"jobs":[{"node_ids":["13"]}],"need_call_barrier_after_jobs":true},{"jobs":[{"node_ids":["14"]}],"need_call_barrier_after_jobs":true},{"jobs":[{"node_ids":["15"]}],"need_call_barrier_after_jobs":true},{"jobs":[{"node_ids":["17"]}],"need_call_barrier_after_jobs":true},{"jobs":[{"node_ids":["18"]}],"need_call_barrier_after_jobs":true},{"jobs":[{"node_ids":["19"]}],"need_call_barrier_after_jobs":true},{},{"jobs":[{"node_ids":["21"]}],"need_call_barrier_after_jobs":true},{"jobs":[{"node_ids":["22"]}],"need_call_barrier_after_jobs":true},{"jobs":[{"node_ids":["23"]}],"need_call_barrier_after_jobs":true},{"jobs":[{"node_ids":["24"]}],"need_call_barrier_after_jobs":true},{"jobs":[{"node_ids":["25"]}],"need_call_barrier_after_jobs":true},{"jobs":[{"node_ids":["26"]}],"need_call_barrier_after_jobs":true},{}]}]},"sub_graph_checksum":"90330ea562051d19e7958091a4915e99b59a2b889844d92326aebef98ece9642"},"graph_checksum":{},"callback_url":"http://localhost:8080/cb/engine"}
2025-12-01 00:05:09.288 [info] [engine_service_impl.cc:RunPlanCore:476] [job(5815c3b8-ce06-11f0-91a2-0242ac110007)] session(5815c3b8-ce06-11f0-91a2-0242ac110007) start to execute pipeline(0) batch(0)
2025-12-01 00:05:09.289 [info] [engine_service_impl.cc:RunPlanCore:488] [job(5815c3b8-ce06-11f0-91a2-0242ac110007)] session(5815c3b8-ce06-11f0-91a2-0242ac110007) start to execute node(runsql.1) op(RunSQL) pipeline(0) batch(0)
2025-12-01 00:05:09.291 [warning] [datasource_adaptor.cc:ConvertDataTypeToExpected:172] [job(5815c3b8-ce06-11f0-91a2-0242ac110007)] arrow type mismatch, convert from float to double
2025-12-01 00:05:09.296 [info] [run_sql.cc:Execute:74] [job(5815c3b8-ce06-11f0-91a2-0242ac110007)] get result row=15, column=2
2025-12-01 00:05:09.296 [info] [engine_service_impl.cc:RunPlanCore:504] [job(5815c3b8-ce06-11f0-91a2-0242ac110007)] session(5815c3b8-ce06-11f0-91a2-0242ac110007) finished executing node(runsql.1), op(RunSQL), cost(7)ms
2025-12-01 00:05:09.296 [info] [engine_service_impl.cc:RunPlanCore:488] [job(5815c3b8-ce06-11f0-91a2-0242ac110007)] session(5815c3b8-ce06-11f0-91a2-0242ac110007) start to execute node(make_constant.16) op(Constant) pipeline(0) batch(0)
2025-12-01 00:05:09.296 [info] [engine_service_impl.cc:RunPlanCore:504] [job(5815c3b8-ce06-11f0-91a2-0242ac110007)] session(5815c3b8-ce06-11f0-91a2-0242ac110007) finished executing node(make_constant.16), op(Constant), cost(0)ms
2025-12-01 00:05:09.296 [info] [engine_service_impl.cc:RunPlanCore:488] [job(5815c3b8-ce06-11f0-91a2-0242ac110007)] session(5815c3b8-ce06-11f0-91a2-0242ac110007) start to execute node(join.2) op(Join) pipeline(0) batch(0)
2025-12-01 00:05:09.297 [info] [join.cc:Execute:88] [job(5815c3b8-ce06-11f0-91a2-0242ac110007)] use Rr22Psi as default psi type
2025-12-01 00:05:09.298 [info] [rr22_psi.cc:Prepare:130] [scqlengine] mask size: 6
2025-12-01 00:05:09.298 [info] [thread_pool.cc:ThreadPool:30] [scqlengine] Create a fixed thread pool with size 191
2025-12-01 00:05:09.313 [info] [rr22_oprf.cc:Init:413] [scqlengine] baxos_size:57
2025-12-01 00:05:09.313 [info] [rr22_oprf.cc:Init:421] [scqlengine] begin vole recv
2025-12-01 00:05:09.355 [info] [rr22_oprf.cc:Init:423] [scqlengine] end vole recv
2025-12-01 00:05:09.355 [info] [rr22_oprf.cc:RecvFast:480] [scqlengine] solve begin
2025-12-01 00:05:09.355 [info] [baxos.cc:ImplParSolve:161] [scqlengine] item size:15 paxos size:57 num_bins_:1, items_per_bin_:15 idxType:1
2025-12-01 00:05:09.356 [info] [rr22_oprf.cc:RecvFast:484] [scqlengine] solve end
2025-12-01 00:05:09.356 [info] [rr22_oprf.cc:RecvFast:529] [scqlengine] begin p xor a
2025-12-01 00:05:09.356 [info] [rr22_oprf.cc:operator():509] [scqlengine] begin compute self oprf
2025-12-01 00:05:09.356 [info] [rr22_oprf.cc:operator():523] [scqlengine] call aes crhash
2025-12-01 00:05:09.356 [info] [rr22_oprf.cc:operator():526] [scqlengine] end compute self oprf
2025-12-01 00:05:09.356 [info] [rr22_oprf.cc:RecvFast:538] [scqlengine] end p xor a
2025-12-01 00:05:09.357 [info] [rr22_psi.cc:GetIntersection:164] [scqlengine] get intersection begin
2025-12-01 00:05:09.357 [info] [rr22_utils.cc:GetIntersectionReceiver:78] [scqlengine] recv rr22 oprf begin
2025-12-01 00:05:09.357 [info] [rr22_utils.cc:GetIntersectionReceiver:81] [scqlengine] recv rr22 oprf finished: 78 vector:13
2025-12-01 00:05:09.357 [info] [rr22_psi.cc:GetIntersection:170] [scqlengine] get intersection end
2025-12-01 00:05:09.357 [info] [rr22_psi.cc:GetIntersection:172] [scqlengine] get intersection post f
2025-12-01 00:05:09.357 [info] [join.cc:Rr22PsiJoin:374] [job(5815c3b8-ce06-11f0-91a2-0242ac110007)] RR22 PSI Join finish, my_party_code:bob, my_rank:1, total self_item_count:15, total peer_item_count:13, result_size:10
2025-12-01 00:05:09.357 [info] [engine_service_impl.cc:RunPlanCore:504] [job(5815c3b8-ce06-11f0-91a2-0242ac110007)] session(5815c3b8-ce06-11f0-91a2-0242ac110007) finished executing node(join.2), op(Join), cost(60)ms
2025-12-01 00:05:09.358 [info] [engine_service_impl.cc:RunPlanCore:488] [job(5815c3b8-ce06-11f0-91a2-0242ac110007)] session(5815c3b8-ce06-11f0-91a2-0242ac110007) start to execute node(filter_by_index.4) op(FilterByIndex) pipeline(0) batch(0)
2025-12-01 00:05:09.358 [info] [engine_service_impl.cc:RunPlanCore:504] [job(5815c3b8-ce06-11f0-91a2-0242ac110007)] session(5815c3b8-ce06-11f0-91a2-0242ac110007) finished executing node(filter_by_index.4), op(FilterByIndex), cost(0)ms
2025-12-01 00:05:09.358 [info] [engine_service_impl.cc:RunPlanCore:488] [job(5815c3b8-ce06-11f0-91a2-0242ac110007)] session(5815c3b8-ce06-11f0-91a2-0242ac110007) start to execute node(make_share.5) op(MakeShare) pipeline(0) batch(0)
2025-12-01 00:05:09.361 [info] [engine_service_impl.cc:RunPlanCore:504] [job(5815c3b8-ce06-11f0-91a2-0242ac110007)] session(5815c3b8-ce06-11f0-91a2-0242ac110007) finished executing node(make_share.5), op(MakeShare), cost(2)ms
2025-12-01 00:05:09.361 [info] [engine_service_impl.cc:RunPlanCore:488] [job(5815c3b8-ce06-11f0-91a2-0242ac110007)] session(5815c3b8-ce06-11f0-91a2-0242ac110007) start to execute node(make_share.6) op(MakeShare) pipeline(0) batch(0)
2025-12-01 00:05:09.361 [info] [engine_service_impl.cc:RunPlanCore:504] [job(5815c3b8-ce06-11f0-91a2-0242ac110007)] session(5815c3b8-ce06-11f0-91a2-0242ac110007) finished executing node(make_share.6), op(MakeShare), cost(0)ms
2025-12-01 00:05:09.361 [info] [engine_service_impl.cc:RunPlanCore:488] [job(5815c3b8-ce06-11f0-91a2-0242ac110007)] session(5815c3b8-ce06-11f0-91a2-0242ac110007) start to execute node(make_share.7) op(MakeShare) pipeline(0) batch(0)
2025-12-01 00:05:09.361 [info] [engine_service_impl.cc:RunPlanCore:504] [job(5815c3b8-ce06-11f0-91a2-0242ac110007)] session(5815c3b8-ce06-11f0-91a2-0242ac110007) finished executing node(make_share.7), op(MakeShare), cost(0)ms
2025-12-01 00:05:09.362 [info] [engine_service_impl.cc:RunPlanCore:488] [job(5815c3b8-ce06-11f0-91a2-0242ac110007)] session(5815c3b8-ce06-11f0-91a2-0242ac110007) start to execute node(sort.8) op(Sort) pipeline(0) batch(0)
2025-12-01 00:05:09.452 [info] [engine_service_impl.cc:RunPlanCore:504] [job(5815c3b8-ce06-11f0-91a2-0242ac110007)] session(5815c3b8-ce06-11f0-91a2-0242ac110007) finished executing node(sort.8), op(Sort), cost(90)ms
2025-12-01 00:05:09.452 [info] [engine_service_impl.cc:RunPlanCore:488] [job(5815c3b8-ce06-11f0-91a2-0242ac110007)] session(5815c3b8-ce06-11f0-91a2-0242ac110007) start to execute node(group_mark.9) op(ObliviousGroupMark) pipeline(0) batch(0)
2025-12-01 00:05:09.454 [info] [engine_service_impl.cc:RunPlanCore:504] [job(5815c3b8-ce06-11f0-91a2-0242ac110007)] session(5815c3b8-ce06-11f0-91a2-0242ac110007) finished executing node(group_mark.9), op(ObliviousGroupMark), cost(1)ms
2025-12-01 00:05:09.455 [info] [engine_service_impl.cc:RunPlanCore:488] [job(5815c3b8-ce06-11f0-91a2-0242ac110007)] session(5815c3b8-ce06-11f0-91a2-0242ac110007) start to execute node(count.10) op(ObliviousGroupCount) pipeline(0) batch(0)
2025-12-01 00:05:09.457 [info] [engine_service_impl.cc:RunPlanCore:504] [job(5815c3b8-ce06-11f0-91a2-0242ac110007)] session(5815c3b8-ce06-11f0-91a2-0242ac110007) finished executing node(count.10), op(ObliviousGroupCount), cost(2)ms
2025-12-01 00:05:09.457 [info] [engine_service_impl.cc:RunPlanCore:488] [job(5815c3b8-ce06-11f0-91a2-0242ac110007)] session(5815c3b8-ce06-11f0-91a2-0242ac110007) start to execute node(avg.11) op(ObliviousGroupAvg) pipeline(0) batch(0)
2025-12-01 00:05:09.468 [info] [engine_service_impl.cc:RunPlanCore:504] [job(5815c3b8-ce06-11f0-91a2-0242ac110007)] session(5815c3b8-ce06-11f0-91a2-0242ac110007) finished executing node(avg.11), op(ObliviousGroupAvg), cost(10)ms
2025-12-01 00:05:09.469 [info] [engine_service_impl.cc:RunPlanCore:488] [job(5815c3b8-ce06-11f0-91a2-0242ac110007)] session(5815c3b8-ce06-11f0-91a2-0242ac110007) start to execute node(avg.12) op(ObliviousGroupAvg) pipeline(0) batch(0)
2025-12-01 00:05:09.479 [info] [engine_service_impl.cc:RunPlanCore:504] [job(5815c3b8-ce06-11f0-91a2-0242ac110007)] session(5815c3b8-ce06-11f0-91a2-0242ac110007) finished executing node(avg.12), op(ObliviousGroupAvg), cost(9)ms
2025-12-01 00:05:09.479 [info] [engine_service_impl.cc:RunPlanCore:488] [job(5815c3b8-ce06-11f0-91a2-0242ac110007)] session(5815c3b8-ce06-11f0-91a2-0242ac110007) start to execute node(shuffle.13) op(Shuffle) pipeline(0) batch(0)
2025-12-01 00:05:09.481 [info] [engine_service_impl.cc:RunPlanCore:504] [job(5815c3b8-ce06-11f0-91a2-0242ac110007)] session(5815c3b8-ce06-11f0-91a2-0242ac110007) finished executing node(shuffle.13), op(Shuffle), cost(2)ms
2025-12-01 00:05:09.481 [info] [engine_service_impl.cc:RunPlanCore:488] [job(5815c3b8-ce06-11f0-91a2-0242ac110007)] session(5815c3b8-ce06-11f0-91a2-0242ac110007) start to execute node(make_public.14) op(MakePublic) pipeline(0) batch(0)
2025-12-01 00:05:09.482 [info] [engine_service_impl.cc:RunPlanCore:504] [job(5815c3b8-ce06-11f0-91a2-0242ac110007)] session(5815c3b8-ce06-11f0-91a2-0242ac110007) finished executing node(make_public.14), op(MakePublic), cost(0)ms
2025-12-01 00:05:09.482 [info] [engine_service_impl.cc:RunPlanCore:488] [job(5815c3b8-ce06-11f0-91a2-0242ac110007)] session(5815c3b8-ce06-11f0-91a2-0242ac110007) start to execute node(filter.15) op(Filter) pipeline(0) batch(0)
2025-12-01 00:05:09.482 [info] [engine_service_impl.cc:RunPlanCore:504] [job(5815c3b8-ce06-11f0-91a2-0242ac110007)] session(5815c3b8-ce06-11f0-91a2-0242ac110007) finished executing node(filter.15), op(Filter), cost(0)ms
2025-12-01 00:05:09.482 [info] [engine_service_impl.cc:RunPlanCore:488] [job(5815c3b8-ce06-11f0-91a2-0242ac110007)] session(5815c3b8-ce06-11f0-91a2-0242ac110007) start to execute node(broadcast.17) op(BroadcastTo) pipeline(0) batch(0)
2025-12-01 00:05:09.482 [info] [engine_service_impl.cc:RunPlanCore:504] [job(5815c3b8-ce06-11f0-91a2-0242ac110007)] session(5815c3b8-ce06-11f0-91a2-0242ac110007) finished executing node(broadcast.17), op(BroadcastTo), cost(0)ms
2025-12-01 00:05:09.482 [info] [engine_service_impl.cc:RunPlanCore:488] [job(5815c3b8-ce06-11f0-91a2-0242ac110007)] session(5815c3b8-ce06-11f0-91a2-0242ac110007) start to execute node(make_private.18) op(MakePrivate) pipeline(0) batch(0)
2025-12-01 00:05:09.482 [info] [engine_service_impl.cc:RunPlanCore:504] [job(5815c3b8-ce06-11f0-91a2-0242ac110007)] session(5815c3b8-ce06-11f0-91a2-0242ac110007) finished executing node(make_private.18), op(MakePrivate), cost(0)ms
2025-12-01 00:05:09.482 [info] [engine_service_impl.cc:RunPlanCore:488] [job(5815c3b8-ce06-11f0-91a2-0242ac110007)] session(5815c3b8-ce06-11f0-91a2-0242ac110007) start to execute node(make_private.19) op(MakePrivate) pipeline(0) batch(0)
2025-12-01 00:05:09.482 [info] [engine_service_impl.cc:RunPlanCore:504] [job(5815c3b8-ce06-11f0-91a2-0242ac110007)] session(5815c3b8-ce06-11f0-91a2-0242ac110007) finished executing node(make_private.19), op(MakePrivate), cost(0)ms
2025-12-01 00:05:09.482 [info] [engine_service_impl.cc:RunPlanCore:488] [job(5815c3b8-ce06-11f0-91a2-0242ac110007)] session(5815c3b8-ce06-11f0-91a2-0242ac110007) start to execute node(make_public.21) op(MakePublic) pipeline(0) batch(0)
2025-12-01 00:05:09.483 [info] [engine_service_impl.cc:RunPlanCore:504] [job(5815c3b8-ce06-11f0-91a2-0242ac110007)] session(5815c3b8-ce06-11f0-91a2-0242ac110007) finished executing node(make_public.21), op(MakePublic), cost(0)ms
2025-12-01 00:05:09.483 [info] [engine_service_impl.cc:RunPlanCore:488] [job(5815c3b8-ce06-11f0-91a2-0242ac110007)] session(5815c3b8-ce06-11f0-91a2-0242ac110007) start to execute node(apply_filter.22) op(Filter) pipeline(0) batch(0)
2025-12-01 00:05:09.483 [info] [engine_service_impl.cc:RunPlanCore:504] [job(5815c3b8-ce06-11f0-91a2-0242ac110007)] session(5815c3b8-ce06-11f0-91a2-0242ac110007) finished executing node(apply_filter.22), op(Filter), cost(0)ms
2025-12-01 00:05:09.483 [info] [engine_service_impl.cc:RunPlanCore:488] [job(5815c3b8-ce06-11f0-91a2-0242ac110007)] session(5815c3b8-ce06-11f0-91a2-0242ac110007) start to execute node(make_private.23) op(MakePrivate) pipeline(0) batch(0)
2025-12-01 00:05:09.483 [info] [engine_service_impl.cc:RunPlanCore:504] [job(5815c3b8-ce06-11f0-91a2-0242ac110007)] session(5815c3b8-ce06-11f0-91a2-0242ac110007) finished executing node(make_private.23), op(MakePrivate), cost(0)ms
2025-12-01 00:05:09.483 [info] [engine_service_impl.cc:RunPlanCore:488] [job(5815c3b8-ce06-11f0-91a2-0242ac110007)] session(5815c3b8-ce06-11f0-91a2-0242ac110007) start to execute node(make_private.24) op(MakePrivate) pipeline(0) batch(0)
2025-12-01 00:05:09.483 [info] [engine_service_impl.cc:RunPlanCore:504] [job(5815c3b8-ce06-11f0-91a2-0242ac110007)] session(5815c3b8-ce06-11f0-91a2-0242ac110007) finished executing node(make_private.24), op(MakePrivate), cost(0)ms
2025-12-01 00:05:09.484 [info] [engine_service_impl.cc:RunPlanCore:488] [job(5815c3b8-ce06-11f0-91a2-0242ac110007)] session(5815c3b8-ce06-11f0-91a2-0242ac110007) start to execute node(make_private.25) op(MakePrivate) pipeline(0) batch(0)
2025-12-01 00:05:09.484 [info] [engine_service_impl.cc:RunPlanCore:504] [job(5815c3b8-ce06-11f0-91a2-0242ac110007)] session(5815c3b8-ce06-11f0-91a2-0242ac110007) finished executing node(make_private.25), op(MakePrivate), cost(0)ms
2025-12-01 00:05:09.484 [info] [engine_service_impl.cc:RunPlanCore:488] [job(5815c3b8-ce06-11f0-91a2-0242ac110007)] session(5815c3b8-ce06-11f0-91a2-0242ac110007) start to execute node(make_private.26) op(MakePrivate) pipeline(0) batch(0)
2025-12-01 00:05:09.484 [info] [engine_service_impl.cc:RunPlanCore:504] [job(5815c3b8-ce06-11f0-91a2-0242ac110007)] session(5815c3b8-ce06-11f0-91a2-0242ac110007) finished executing node(make_private.26), op(MakePrivate), cost(0)ms
2025-12-01 00:05:09.484 [info] [engine_service_impl.cc:RunPlanCore:539] [job(5815c3b8-ce06-11f0-91a2-0242ac110007)] session(5815c3b8-ce06-11f0-91a2-0242ac110007) finished executing pipeline(0) batch(0)
2025-12-01 00:05:09.484 [info] [engine_service_impl.cc:RunPlanCore:546] [job(5815c3b8-ce06-11f0-91a2-0242ac110007)] session(5815c3b8-ce06-11f0-91a2-0242ac110007) run plan policy succ
2025-12-01 00:05:09.484 [info] [engine_service_impl.cc:RunPlanSync:579] [job(5815c3b8-ce06-11f0-91a2-0242ac110007)] RunExecutionPlan success, sessionID=5815c3b8-ce06-11f0-91a2-0242ac110007
2025-12-01 00:05:09.485 [info] [session_manager.cc:CompareAndSetState:260] [scqlengine] session(5815c3b8-ce06-11f0-91a2-0242ac110007), state transitioned from COMPUTATION_FINISHED to SUCCEEDED successfully.
2025-12-01 00:05:09.485 [info] [session_manager.cc:RemoveSession:217] [scqlengine] session(5815c3b8-ce06-11f0-91a2-0242ac110007) removed, running_cost(322ms), current running session=0
2025-12-01 00:05:09.557 [info] [session_manager.cc:CreateSession:131] [scqlengine] create session(5853b4f2-ce06-11f0-91a2-0242ac110007) succ, cost(0ms), current running session=1
2025-12-01 00:05:09.557 [info] [engine_service_impl.cc:CheckGraphChecksum:177] [job(5853b4f2-ce06-11f0-91a2-0242ac110007)] skip checking graph checksum
2025-12-01 00:05:09.557 [info] [engine_service_impl.cc:RunExecutionPlan:283] [job(5853b4f2-ce06-11f0-91a2-0242ac110007)] [RunExecutionPlan] Session created successfully, start to run plan, client = 127.0.0.1:56086
RunExecutionPlanRequest = {"job_params":{"party_code":"bob","parties":[{"code":"bob","name":"bob","host":"localhost:8004","public_key":"MCowBQYDK2VwAyEAeKWKsxJVF5cvfB693Jb/HI1CCJA6WZyVeS6ErCLlj4w="}],"job_id":"5853b4f2-ce06-11f0-91a2-0242ac110007","spu_runtime_cfg":{"protocol":2,"field":2,"public_random_seed":"7334379984990513582"}},"graph":{"nodes":{"0":{"node_name":"runsql.0","op_type":"RunSQL","outputs":{"Out":{"tensors":[{"name":"Column#4.0","elem_type":6,"option":1,"annotation":{"status":1},"ref_num":1}]}},"attributes":{"sql":{"t":{"name":".0","elem_type":8,"string_data":["select avg(tb.order_amount) as avg_amount from bob.user_stats as tb;"]}},"table_refs":{"t":{"name":".0","shape":{"dim":[{"dim_value":"1"}]},"elem_type":8,"string_data":["bob.user_stats"]}}}},"1":{"node_name":"publish.1","op_type":"Publish","inputs":{"In":{"tensors":[{"name":"Column#4.0","elem_type":6,"option":1,"annotation":{"status":1},"ref_num":1}]}},"outputs":{"Out":{"tensors":[{"name":"avg_amount.1","elem_type":8,"annotation":{"status":1},"string_data":["avg_amount"]}]}}}},"policy":{"worker_num":1,"pipelines":[{"subdags":[{"jobs":[{"node_ids":["0"]}]},{"jobs":[{"node_ids":["1"]}]}]}]},"sub_graph_checksum":"9bdf24a56c92101a192e6b85eac283b2d281fdef0734eb9a5dbefbd539fb6fde"},"graph_checksum":{},"callback_url":"http://localhost:8080/cb/engine"}
2025-12-01 00:05:09.558 [info] [engine_service_impl.cc:RunPlanCore:476] [job(5853b4f2-ce06-11f0-91a2-0242ac110007)] session(5853b4f2-ce06-11f0-91a2-0242ac110007) start to execute pipeline(0) batch(0)
2025-12-01 00:05:09.558 [info] [engine_service_impl.cc:RunPlanCore:488] [job(5853b4f2-ce06-11f0-91a2-0242ac110007)] session(5853b4f2-ce06-11f0-91a2-0242ac110007) start to execute node(runsql.0) op(RunSQL) pipeline(0) batch(0)
2025-12-01 00:05:09.560 [info] [run_sql.cc:Execute:74] [job(5853b4f2-ce06-11f0-91a2-0242ac110007)] get result row=1, column=1
2025-12-01 00:05:09.560 [info] [engine_service_impl.cc:RunPlanCore:504] [job(5853b4f2-ce06-11f0-91a2-0242ac110007)] session(5853b4f2-ce06-11f0-91a2-0242ac110007) finished executing node(runsql.0), op(RunSQL), cost(2)ms
2025-12-01 00:05:09.560 [info] [engine_service_impl.cc:RunPlanCore:488] [job(5853b4f2-ce06-11f0-91a2-0242ac110007)] session(5853b4f2-ce06-11f0-91a2-0242ac110007) start to execute node(publish.1) op(Publish) pipeline(0) batch(0)
2025-12-01 00:05:09.560 [info] [engine_service_impl.cc:RunPlanCore:504] [job(5853b4f2-ce06-11f0-91a2-0242ac110007)] session(5853b4f2-ce06-11f0-91a2-0242ac110007) finished executing node(publish.1), op(Publish), cost(0)ms
2025-12-01 00:05:09.560 [info] [engine_service_impl.cc:RunPlanCore:539] [job(5853b4f2-ce06-11f0-91a2-0242ac110007)] session(5853b4f2-ce06-11f0-91a2-0242ac110007) finished executing pipeline(0) batch(0)
2025-12-01 00:05:09.560 [info] [engine_service_impl.cc:RunPlanCore:546] [job(5853b4f2-ce06-11f0-91a2-0242ac110007)] session(5853b4f2-ce06-11f0-91a2-0242ac110007) run plan policy succ
2025-12-01 00:05:09.560 [info] [engine_service_impl.cc:RunPlanSync:579] [job(5853b4f2-ce06-11f0-91a2-0242ac110007)] RunExecutionPlan success, sessionID=5853b4f2-ce06-11f0-91a2-0242ac110007
2025-12-01 00:05:09.560 [info] [session_manager.cc:CompareAndSetState:260] [scqlengine] session(5853b4f2-ce06-11f0-91a2-0242ac110007), state transitioned from COMPUTATION_FINISHED to SUCCEEDED successfully.
2025-12-01 00:05:09.560 [info] [session_manager.cc:RemoveSession:217] [scqlengine] session(5853b4f2-ce06-11f0-91a2-0242ac110007) removed, running_cost(3ms), current running session=0
2025-12-01 00:05:09.618 [info] [session_manager.cc:CreateSession:131] [scqlengine] create session(585d8f78-ce06-11f0-91a2-0242ac110007) succ, cost(0ms), current running session=1
2025-12-01 00:05:09.618 [info] [engine_service_impl.cc:CheckGraphChecksum:177] [job(585d8f78-ce06-11f0-91a2-0242ac110007)] skip checking graph checksum
2025-12-01 00:05:09.618 [info] [engine_service_impl.cc:RunExecutionPlan:283] [job(585d8f78-ce06-11f0-91a2-0242ac110007)] [RunExecutionPlan] Session created successfully, start to run plan, client = 127.0.0.1:56092
RunExecutionPlanRequest = {"job_params":{"party_code":"bob","parties":[{"code":"bob","name":"bob","host":"localhost:8004","public_key":"MCowBQYDK2VwAyEAeKWKsxJVF5cvfB693Jb/HI1CCJA6WZyVeS6ErCLlj4w="}],"job_id":"585d8f78-ce06-11f0-91a2-0242ac110007","spu_runtime_cfg":{"protocol":2,"field":2,"public_random_seed":"1908972350942329574"}},"graph":{"nodes":{"0":{"node_name":"runsql.0","op_type":"RunSQL","outputs":{"Out":{"tensors":[{"name":"demo.user_stats.id.0","elem_type":8,"option":1,"annotation":{"status":1},"ref_num":1},{"name":"demo.user_stats.is_active.1","elem_type":4,"option":1,"annotation":{"status":1},"ref_num":1},{"name":"demo.user_stats.order_amount.2","elem_type":6,"option":1,"annotation":{"status":1},"ref_num":1}]}},"attributes":{"sql":{"t":{"name":".0","elem_type":8,"string_data":["select user_stats.id,user_stats.is_active,user_stats.order_amount from bob.user_stats limit 5;"]}},"table_refs":{"t":{"name":".0","shape":{"dim":[{"dim_value":"1"}]},"elem_type":8,"string_data":["bob.user_stats"]}}}},"1":{"node_name":"publish.1","op_type":"Publish","inputs":{"In":{"tensors":[{"name":"demo.user_stats.id.0","elem_type":8,"option":1,"annotation":{"status":1},"ref_num":1},{"name":"demo.user_stats.is_active.1","elem_type":4,"option":1,"annotation":{"status":1},"ref_num":1},{"name":"demo.user_stats.order_amount.2","elem_type":6,"option":1,"annotation":{"status":1},"ref_num":1}]}},"outputs":{"Out":{"tensors":[{"name":"id.3","elem_type":8,"annotation":{"status":1},"string_data":["id"]},{"name":"is_active.4","elem_type":8,"annotation":{"status":1},"string_data":["is_active"]},{"name":"order_amount.5","elem_type":8,"annotation":{"status":1},"string_data":["order_amount"]}]}}}},"policy":{"worker_num":1,"pipelines":[{"subdags":[{"jobs":[{"node_ids":["0"]}]},{"jobs":[{"node_ids":["1"]}]}]}]},"sub_graph_checksum":"80579ef7ff72b888a41a6c3071f7c7eee9b03f0c40281198a9a0ec6409f7560e"},"graph_checksum":{},"callback_url":"http://localhost:8080/cb/engine"}
2025-12-01 00:05:09.618 [info] [engine_service_impl.cc:RunPlanCore:476] [job(585d8f78-ce06-11f0-91a2-0242ac110007)] session(585d8f78-ce06-11f0-91a2-0242ac110007) start to execute pipeline(0) batch(0)
2025-12-01 00:05:09.618 [info] [engine_service_impl.cc:RunPlanCore:488] [job(585d8f78-ce06-11f0-91a2-0242ac110007)] session(585d8f78-ce06-11f0-91a2-0242ac110007) start to execute node(runsql.0) op(RunSQL) pipeline(0) batch(0)
2025-12-01 00:05:09.619 [warning] [datasource_adaptor.cc:ConvertDataTypeToExpected:172] [job(585d8f78-ce06-11f0-91a2-0242ac110007)] arrow type mismatch, convert from float to double
2025-12-01 00:05:09.619 [info] [run_sql.cc:Execute:74] [job(585d8f78-ce06-11f0-91a2-0242ac110007)] get result row=5, column=3
2025-12-01 00:05:09.619 [info] [engine_service_impl.cc:RunPlanCore:504] [job(585d8f78-ce06-11f0-91a2-0242ac110007)] session(585d8f78-ce06-11f0-91a2-0242ac110007) finished executing node(runsql.0), op(RunSQL), cost(0)ms
2025-12-01 00:05:09.619 [info] [engine_service_impl.cc:RunPlanCore:488] [job(585d8f78-ce06-11f0-91a2-0242ac110007)] session(585d8f78-ce06-11f0-91a2-0242ac110007) start to execute node(publish.1) op(Publish) pipeline(0) batch(0)
2025-12-01 00:05:09.619 [info] [engine_service_impl.cc:RunPlanCore:504] [job(585d8f78-ce06-11f0-91a2-0242ac110007)] session(585d8f78-ce06-11f0-91a2-0242ac110007) finished executing node(publish.1), op(Publish), cost(0)ms
2025-12-01 00:05:09.619 [info] [engine_service_impl.cc:RunPlanCore:539] [job(585d8f78-ce06-11f0-91a2-0242ac110007)] session(585d8f78-ce06-11f0-91a2-0242ac110007) finished executing pipeline(0) batch(0)
2025-12-01 00:05:09.619 [info] [engine_service_impl.cc:RunPlanCore:546] [job(585d8f78-ce06-11f0-91a2-0242ac110007)] session(585d8f78-ce06-11f0-91a2-0242ac110007) run plan policy succ
2025-12-01 00:05:09.619 [info] [engine_service_impl.cc:RunPlanSync:579] [job(585d8f78-ce06-11f0-91a2-0242ac110007)] RunExecutionPlan success, sessionID=585d8f78-ce06-11f0-91a2-0242ac110007
2025-12-01 00:05:09.619 [info] [session_manager.cc:CompareAndSetState:260] [scqlengine] session(585d8f78-ce06-11f0-91a2-0242ac110007), state transitioned from COMPUTATION_FINISHED to SUCCEEDED successfully.
2025-12-01 00:05:09.619 [info] [session_manager.cc:RemoveSession:217] [scqlengine] session(585d8f78-ce06-11f0-91a2-0242ac110007) removed, running_cost(1ms), current running session=0
2025-12-01 00:28:52.454 [info] [session_manager.cc:CreateSession:131] [scqlengine] create session(a86f2654-ce09-11f0-91a2-0242ac110007) succ, cost(1ms), current running session=1
2025-12-01 00:28:52.454 [info] [engine_service_impl.cc:CheckGraphChecksum:177] [job(a86f2654-ce09-11f0-91a2-0242ac110007)] skip checking graph checksum
2025-12-01 00:28:52.455 [info] [engine_service_impl.cc:RunExecutionPlan:283] [job(a86f2654-ce09-11f0-91a2-0242ac110007)] [RunExecutionPlan] Session created successfully, start to run plan, client = 127.0.0.1:49608
RunExecutionPlanRequest = {"job_params":{"party_code":"bob","parties":[{"code":"alice","name":"alice","host":"localhost:8003","public_key":"MCowBQYDK2VwAyEAocQ8CID0RXLpbkHhS56TuGdkMJpVMLGB6q9xwWtCIIo="},{"code":"bob","name":"bob","host":"localhost:8004","rank":1,"public_key":"MCowBQYDK2VwAyEAeKWKsxJVF5cvfB693Jb/HI1CCJA6WZyVeS6ErCLlj4w="}],"job_id":"a86f2654-ce09-11f0-91a2-0242ac110007","spu_runtime_cfg":{"protocol":2,"field":2,"public_random_seed":"6543885477529160071"}},"graph":{"nodes":{"1":{"node_name":"runsql.1","op_type":"RunSQL","outputs":{"Out":{"tensors":[{"name":"demo.user_stats.id.3","elem_type":8,"option":1,"annotation":{"status":1},"ref_num":1},{"name":"demo.user_stats.order_amount.4","elem_type":6,"option":1,"annotation":{"status":1},"ref_num":1}]}},"attributes":{"sql":{"t":{"name":".0","elem_type":8,"string_data":["select tb.id,tb.order_amount from bob.user_stats as tb where tb.is_active=1;"]}},"table_refs":{"t":{"name":".0","shape":{"dim":[{"dim_value":"1"}]},"elem_type":8,"string_data":["bob.user_stats"]}}}},"10":{"node_name":"count.10","op_type":"ObliviousGroupCount","inputs":{"Group":{"tensors":[{"name":"group_mark.17","elem_type":7,"option":1,"annotation":{"status":2},"ref_num":5}]},"In":{"tensors":[{"name":"group_mark.17","elem_type":7,"option":1,"annotation":{"status":2},"ref_num":5}]}},"outputs":{"Out":{"tensors":[{"name":"group_mark.18","elem_type":4,"option":1,"annotation":{"status":2},"ref_num":1}]}}},"11":{"node_name":"avg.11","op_type":"ObliviousGroupAvg","inputs":{"Group":{"tensors":[{"name":"group_mark.17","elem_type":7,"option":1,"annotation":{"status":2},"ref_num":5}]},"In":{"tensors":[{"name":"demo.user_credit.income.15","elem_type":4,"option":1,"annotation":{"status":2},"ref_num":1}]}},"outputs":{"Out":{"tensors":[{"name":"demo.user_credit.income.19","elem_type":6,"option":1,"annotation":{"status":2},"ref_num":1}]}}},"12":{"node_name":"avg.12","op_type":"ObliviousGroupAvg","inputs":{"Group":{"tensors":[{"name":"group_mark.17","elem_type":7,"option":1,"annotation":{"status":2},"ref_num":5}]},"In":{"tensors":[{"name":"demo.user_stats.order_amount.16","elem_type":6,"option":1,"annotation":{"status":2},"ref_num":1}]}},"outputs":{"Out":{"tensors":[{"name":"demo.user_stats.order_amount.20","elem_type":6,"option":1,"annotation":{"status":2},"ref_num":1}]}}},"13":{"node_name":"shuffle.13","op_type":"Shuffle","inputs":{"In":{"tensors":[{"name":"group_mark.18","elem_type":4,"option":1,"annotation":{"status":2},"ref_num":1},{"name":"demo.user_credit.income.19","elem_type":6,"option":1,"annotation":{"status":2},"ref_num":1},{"name":"demo.user_stats.order_amount.20","elem_type":6,"option":1,"annotation":{"status":2},"ref_num":1},{"name":"demo.user_credit.credit_rank.14","elem_type":4,"option":1,"annotation":{"status":2},"ref_num":1},{"name":"group_mark.17","elem_type":7,"option":1,"annotation":{"status":2},"ref_num":5}]}},"outputs":{"Out":{"tensors":[{"name":"group_mark.21","elem_type":4,"option":1,"annotation":{"status":2},"ref_num":1},{"name":"demo.user_credit.income.22","elem_type":6,"option":1,"annotation":{"status":2},"ref_num":1},{"name":"demo.user_stats.order_amount.23","elem_type":6,"option":1,"annotation":{"status":2},"ref_num":1},{"name":"demo.user_credit.credit_rank.24","elem_type":4,"option":1,"annotation":{"status":2},"ref_num":1},{"name":"group_mark.25","elem_type":7,"option":1,"annotation":{"status":2},"ref_num":1}]}}},"14":{"node_name":"make_public.14","op_type":"MakePublic","inputs":{"In":{"tensors":[{"name":"group_mark.25","elem_type":7,"option":1,"annotation":{"status":2},"ref_num":1}]}},"outputs":{"Out":{"tensors":[{"name":"group_mark.26","elem_type":7,"option":1,"annotation":{"status":4},"ref_num":1}]}}},"15":{"node_name":"filter.15","op_type":"Filter","inputs":{"Filter":{"tensors":[{"name":"group_mark.26","elem_type":7,"option":1,"annotation":{"status":4},"ref_num":1}]},"In":{"tensors":[{"name":"group_mark.21","elem_type":4,"option":1,"annotation":{"status":2},"ref_num":1},{"name":"demo.user_credit.income.22","elem_type":6,"option":1,"annotation":{"status":2},"ref_num":1},{"name":"demo.user_stats.order_amount.23","elem_type":6,"option":1,"annotation":{"status":2},"ref_num":1},{"name":"demo.user_credit.credit_rank.24","elem_type":4,"option":1,"annotation":{"status":2},"ref_num":1}]}},"outputs":{"Out":{"tensors":[{"name":"group_mark.27","elem_type":4,"option":1,"annotation":{"status":2},"ref_num":3},{"name":"demo.user_credit.income.28","elem_type":6,"option":1,"annotation":{"status":2},"ref_num":1},{"name":"demo.user_stats.order_amount.29","elem_type":6,"option":1,"annotation":{"status":2},"ref_num":1},{"name":"demo.user_credit.credit_rank.30","elem_type":4,"option":1,"annotation":{"status":2},"ref_num":1}]}}},"16":{"node_name":"make_constant.16","op_type":"Constant","outputs":{"Out":{"tensors":[{"name":"constant_data.31","elem_type":4,"option":1,"annotation":{"status":4},"ref_num":1}]}},"attributes":{"scalar":{"t":{"name":".0","elem_type":4,"int64_data":["4"]}}}},"17":{"node_name":"broadcast.17","op_type":"BroadcastTo","inputs":{"In":{"tensors":[{"name":"constant_data.31","elem_type":4,"option":1,"annotation":{"status":4},"ref_num":1}]},"ShapeRefTensor":{"tensors":[{"name":"group_mark.27","elem_type":4,"option":1,"annotation":{"status":2},"ref_num":3}]}},"outputs":{"Out":{"tensors":[{"name":"constant_data.32","elem_type":4,"option":1,"annotation":{"status":4},"ref_num":1}]}}},"18":{"node_name":"make_private.18","op_type":"MakePrivate","inputs":{"In":{"tensors":[{"name":"group_mark.27","elem_type":4,"option":1,"annotation":{"status":2},"ref_num":3}]}},"outputs":{"Out":{"tensors":[{"name":"group_mark.33","elem_type":4,"option":1,"annotation":{"status":1},"ref_num":1}]}},"attributes":{"reveal_to":{"t":{"name":".0","elem_type":8,"string_data":["alice"]}}}},"19":{"node_name":"make_private.19","op_type":"MakePrivate","inputs":{"In":{"tensors":[{"name":"constant_data.32","elem_type":4,"option":1,"annotation":{"status":4},"ref_num":1}]}},"outputs":{"Out":{"tensors":[{"name":"constant_data.34","elem_type":4,"option":1,"annotation":{"status":1},"ref_num":1}]}},"attributes":{"reveal_to":{"t":{"name":".0","elem_type":8,"string_data":["alice"]}}}},"2":{"node_name":"join.2","op_type":"Join","inputs":{"Left":{"tensors":[{"name":"demo.user_credit.id.1","elem_type":8,"option":1,"annotation":{"status":1},"ref_num":1}]},"Right":{"tensors":[{"name":"demo.user_stats.id.3","elem_type":8,"option":1,"annotation":{"status":1},"ref_num":1}]}},"outputs":{"LeftJoinIndex":{"tensors":[{"name":"demo.user_credit.id.5","elem_type":4,"option":1,"annotation":{"status":1},"ref_num":1}]},"RightJoinIndex":{"tensors":[{"name":"demo.user_stats.id.6","elem_type":4,"option":1,"annotation":{"status":1},"ref_num":1}]}},"attributes":{"input_party_codes":{"t":{"name":".0","shape":{"dim":[{"dim_value":"2"}]},"elem_type":8,"string_data":["alice","bob"]}},"join_type":{"t":{"name":".0","elem_type":4,"int64_data":["0"]}},"psi_algorithm":{"t":{"name":".0","elem_type":4,"int64_data":["0"]}}}},"21":{"node_name":"make_public.21","op_type":"MakePublic","inputs":{"In":{"tensors":[{"name":"GreaterEqual_out.35","elem_type":7,"option":1,"annotation":{"status":1},"ref_num":1}]}},"outputs":{"Out":{"tensors":[{"name":"GreaterEqual_out.36","elem_type":7,"option":1,"annotation":{"status":4},"ref_num":1}]}}},"22":{"node_name":"apply_filter.22","op_type":"Filter","inputs":{"Filter":{"tensors":[{"name":"GreaterEqual_out.36","elem_type":7,"option":1,"annotation":{"status":4},"ref_num":1}]},"In":{"tensors":[{"name":"demo.user_credit.credit_rank.30","elem_type":4,"option":1,"annotation":{"status":2},"ref_num":1},{"name":"group_mark.27","elem_type":4,"option":1,"annotation":{"status":2},"ref_num":3},{"name":"demo.user_credit.income.28","elem_type":6,"option":1,"annotation":{"status":2},"ref_num":1},{"name":"demo.user_stats.order_amount.29","elem_type":6,"option":1,"annotation":{"status":2},"ref_num":1}]}},"outputs":{"Out":{"tensors":[{"name":"demo.user_credit.credit_rank.37","elem_type":4,"option":1,"annotation":{"status":2},"ref_num":1},{"name":"group_mark.38","elem_type":4,"option":1,"annotation":{"status":2},"ref_num":1},{"name":"demo.user_credit.income.39","elem_type":6,"option":1,"annotation":{"status":2},"ref_num":1},{"name":"demo.user_stats.order_amount.40","elem_type":6,"option":1,"annotation":{"status":2},"ref_num":1}]}}},"23":{"node_name":"make_private.23","op_type":"MakePrivate","inputs":{"In":{"tensors":[{"name":"demo.user_credit.credit_rank.37","elem_type":4,"option":1,"annotation":{"status":2},"ref_num":1}]}},"outputs":{"Out":{"tensors":[{"name":"demo.user_credit.credit_rank.41","elem_type":4,"option":1,"annotation":{"status":1},"ref_num":1}]}},"attributes":{"reveal_to":{"t":{"name":".0","elem_type":8,"string_data":["alice"]}}}},"24":{"node_name":"make_private.24","op_type":"MakePrivate","inputs":{"In":{"tensors":[{"name":"group_mark.38","elem_type":4,"option":1,"annotation":{"status":2},"ref_num":1}]}},"outputs":{"Out":{"tensors":[{"name":"group_mark.43","elem_type":4,"option":1,"annotation":{"status":1},"ref_num":1}]}},"attributes":{"reveal_to":{"t":{"name":".0","elem_type":8,"string_data":["alice"]}}}},"25":{"node_name":"make_private.25","op_type":"MakePrivate","inputs":{"In":{"tensors":[{"name":"demo.user_credit.income.39","elem_type":6,"option":1,"annotation":{"status":2},"ref_num":1}]}},"outputs":{"Out":{"tensors":[{"name":"demo.user_credit.income.45","elem_type":6,"option":1,"annotation":{"status":1},"ref_num":1}]}},"attributes":{"reveal_to":{"t":{"name":".0","elem_type":8,"string_data":["alice"]}}}},"26":{"node_name":"make_private.26","op_type":"MakePrivate","inputs":{"In":{"tensors":[{"name":"demo.user_stats.order_amount.40","elem_type":6,"option":1,"annotation":{"status":2},"ref_num":1}]}},"outputs":{"Out":{"tensors":[{"name":"demo.user_stats.order_amount.47","elem_type":6,"option":1,"annotation":{"status":1},"ref_num":1}]}},"attributes":{"reveal_to":{"t":{"name":".0","elem_type":8,"string_data":["alice"]}}}},"4":{"node_name":"filter_by_index.4","op_type":"FilterByIndex","inputs":{"Data":{"tensors":[{"name":"demo.user_stats.order_amount.4","elem_type":6,"option":1,"annotation":{"status":1},"ref_num":1}]},"RowsIndexFilter":{"tensors":[{"name":"demo.user_stats.id.6","elem_type":4,"option":1,"annotation":{"status":1},"ref_num":1}]}},"outputs":{"Out":{"tensors":[{"name":"demo.user_stats.order_amount.9","elem_type":6,"option":1,"annotation":{"status":1},"ref_num":1}]}}},"5":{"node_name":"make_share.5","op_type":"MakeShare","inputs":{"In":{"tensors":[{"name":"demo.user_credit.credit_rank.7","elem_type":4,"option":1,"annotation":{"status":1},"ref_num":1}]}},"outputs":{"Out":{"tensors":[{"name":"demo.user_credit.credit_rank.10","elem_type":4,"option":1,"annotation":{"status":2},"ref_num":3}]}}},"6":{"node_name":"make_share.6","op_type":"MakeShare","inputs":{"In":{"tensors":[{"name":"demo.user_credit.income.8","elem_type":4,"option":1,"annotation":{"status":1},"ref_num":1}]}},"outputs":{"Out":{"tensors":[{"name":"demo.user_credit.income.11","elem_type":4,"option":1,"annotation":{"status":2},"ref_num":1}]}}},"7":{"node_name":"make_share.7","op_type":"MakeShare","inputs":{"In":{"tensors":[{"name":"demo.user_stats.order_amount.9","elem_type":6,"option":1,"annotation":{"status":1},"ref_num":1}]}},"outputs":{"Out":{"tensors":[{"name":"demo.user_stats.order_amount.12","elem_type":6,"option":1,"annotation":{"status":2},"ref_num":1}]}}},"8":{"node_name":"sort.8","op_type":"Sort","inputs":{"In":{"tensors":[{"name":"demo.user_credit.credit_rank.10","elem_type":4,"option":1,"annotation":{"status":2},"ref_num":3},{"name":"demo.user_credit.credit_rank.10","elem_type":4,"option":1,"annotation":{"status":2},"ref_num":3},{"name":"demo.user_credit.income.11","elem_type":4,"option":1,"annotation":{"status":2},"ref_num":1},{"name":"demo.user_stats.order_amount.12","elem_type":6,"option":1,"annotation":{"status":2},"ref_num":1}]},"Key":{"tensors":[{"name":"demo.user_credit.credit_rank.10","elem_type":4,"option":1,"annotation":{"status":2},"ref_num":3}]}},"outputs":{"Out":{"tensors":[{"name":"demo.user_credit.credit_rank.13","elem_type":4,"option":1,"annotation":{"status":2},"ref_num":1},{"name":"demo.user_credit.credit_rank.14","elem_type":4,"option":1,"annotation":{"status":2},"ref_num":1},{"name":"demo.user_credit.income.15","elem_type":4,"option":1,"annotation":{"status":2},"ref_num":1},{"name":"demo.user_stats.order_amount.16","elem_type":6,"option":1,"annotation":{"status":2},"ref_num":1}]}},"attributes":{"reverse":{"t":{"name":".0","elem_type":7,"bool_data":[false]}}}},"9":{"node_name":"group_mark.9","op_type":"ObliviousGroupMark","inputs":{"Key":{"tensors":[{"name":"demo.user_credit.credit_rank.13","elem_type":4,"option":1,"annotation":{"status":2},"ref_num":1}]}},"outputs":{"Group":{"tensors":[{"name":"group_mark.17","elem_type":7,"option":1,"annotation":{"status":2},"ref_num":5}]}}}},"policy":{"worker_num":1,"pipelines":[{"subdags":[{},{"jobs":[{"node_ids":["1"]}]},{"jobs":[{"node_ids":["16"]}],"need_call_barrier_after_jobs":true},{"jobs":[{"node_ids":["2"]}],"need_call_barrier_after_jobs":true},{},{"jobs":[{"node_ids":["4"]}]},{"jobs":[{"node_ids":["5"]}],"need_call_barrier_after_jobs":true},{"jobs":[{"node_ids":["6"]}],"need_call_barrier_after_jobs":true},{"jobs":[{"node_ids":["7"]}],"need_call_barrier_after_jobs":true},{"jobs":[{"node_ids":["8"]}],"need_call_barrier_after_jobs":true},{"jobs":[{"node_ids":["9"]}],"need_call_barrier_after_jobs":true},{"jobs":[{"node_ids":["10"]}],"need_call_barrier_after_jobs":true},{"jobs":[{"node_ids":["11"]}],"need_call_barrier_after_jobs":true},{"jobs":[{"node_ids":["12"]}],"need_call_barrier_after_jobs":true},{"jobs":[{"node_ids":["13"]}],"need_call_barrier_after_jobs":true},{"jobs":[{"node_ids":["14"]}],"need_call_barrier_after_jobs":true},{"jobs":[{"node_ids":["15"]}],"need_call_barrier_after_jobs":true},{"jobs":[{"node_ids":["17"]}],"need_call_barrier_after_jobs":true},{"jobs":[{"node_ids":["18"]}],"need_call_barrier_after_jobs":true},{"jobs":[{"node_ids":["19"]}],"need_call_barrier_after_jobs":true},{},{"jobs":[{"node_ids":["21"]}],"need_call_barrier_after_jobs":true},{"jobs":[{"node_ids":["22"]}],"need_call_barrier_after_jobs":true},{"jobs":[{"node_ids":["23"]}],"need_call_barrier_after_jobs":true},{"jobs":[{"node_ids":["24"]}],"need_call_barrier_after_jobs":true},{"jobs":[{"node_ids":["25"]}],"need_call_barrier_after_jobs":true},{"jobs":[{"node_ids":["26"]}],"need_call_barrier_after_jobs":true},{}]}]},"sub_graph_checksum":"90330ea562051d19e7958091a4915e99b59a2b889844d92326aebef98ece9642"},"graph_checksum":{},"callback_url":"http://localhost:8080/cb/engine"}
2025-12-01 00:28:52.456 [info] [engine_service_impl.cc:RunPlanCore:476] [job(a86f2654-ce09-11f0-91a2-0242ac110007)] session(a86f2654-ce09-11f0-91a2-0242ac110007) start to execute pipeline(0) batch(0)
2025-12-01 00:28:52.456 [info] [engine_service_impl.cc:RunPlanCore:488] [job(a86f2654-ce09-11f0-91a2-0242ac110007)] session(a86f2654-ce09-11f0-91a2-0242ac110007) start to execute node(runsql.1) op(RunSQL) pipeline(0) batch(0)
2025-12-01 00:28:52.457 [warning] [datasource_adaptor.cc:ConvertDataTypeToExpected:172] [job(a86f2654-ce09-11f0-91a2-0242ac110007)] arrow type mismatch, convert from float to double
2025-12-01 00:28:52.457 [info] [run_sql.cc:Execute:74] [job(a86f2654-ce09-11f0-91a2-0242ac110007)] get result row=15, column=2
2025-12-01 00:28:52.457 [info] [engine_service_impl.cc:RunPlanCore:504] [job(a86f2654-ce09-11f0-91a2-0242ac110007)] session(a86f2654-ce09-11f0-91a2-0242ac110007) finished executing node(runsql.1), op(RunSQL), cost(1)ms
2025-12-01 00:28:52.457 [info] [engine_service_impl.cc:RunPlanCore:488] [job(a86f2654-ce09-11f0-91a2-0242ac110007)] session(a86f2654-ce09-11f0-91a2-0242ac110007) start to execute node(make_constant.16) op(Constant) pipeline(0) batch(0)
2025-12-01 00:28:52.457 [info] [engine_service_impl.cc:RunPlanCore:504] [job(a86f2654-ce09-11f0-91a2-0242ac110007)] session(a86f2654-ce09-11f0-91a2-0242ac110007) finished executing node(make_constant.16), op(Constant), cost(0)ms
2025-12-01 00:28:52.457 [info] [engine_service_impl.cc:RunPlanCore:488] [job(a86f2654-ce09-11f0-91a2-0242ac110007)] session(a86f2654-ce09-11f0-91a2-0242ac110007) start to execute node(join.2) op(Join) pipeline(0) batch(0)
2025-12-01 00:28:52.457 [info] [join.cc:Execute:88] [job(a86f2654-ce09-11f0-91a2-0242ac110007)] use Rr22Psi as default psi type
2025-12-01 00:28:52.458 [info] [rr22_psi.cc:Prepare:130] [scqlengine] mask size: 6
2025-12-01 00:28:52.459 [info] [rr22_oprf.cc:Init:413] [scqlengine] baxos_size:57
2025-12-01 00:28:52.459 [info] [rr22_oprf.cc:Init:421] [scqlengine] begin vole recv
2025-12-01 00:28:52.515 [info] [rr22_oprf.cc:Init:423] [scqlengine] end vole recv
2025-12-01 00:28:52.515 [info] [rr22_oprf.cc:RecvFast:480] [scqlengine] solve begin
2025-12-01 00:28:52.515 [info] [baxos.cc:ImplParSolve:161] [scqlengine] item size:15 paxos size:57 num_bins_:1, items_per_bin_:15 idxType:1
2025-12-01 00:28:52.515 [info] [rr22_oprf.cc:RecvFast:484] [scqlengine] solve end
2025-12-01 00:28:52.515 [info] [rr22_oprf.cc:RecvFast:529] [scqlengine] begin p xor a
2025-12-01 00:28:52.515 [info] [rr22_oprf.cc:operator():509] [scqlengine] begin compute self oprf
2025-12-01 00:28:52.515 [info] [rr22_oprf.cc:operator():523] [scqlengine] call aes crhash
2025-12-01 00:28:52.515 [info] [rr22_oprf.cc:operator():526] [scqlengine] end compute self oprf
2025-12-01 00:28:52.515 [info] [rr22_oprf.cc:RecvFast:538] [scqlengine] end p xor a
2025-12-01 00:28:52.516 [info] [rr22_psi.cc:GetIntersection:164] [scqlengine] get intersection begin
2025-12-01 00:28:52.516 [info] [rr22_utils.cc:GetIntersectionReceiver:78] [scqlengine] recv rr22 oprf begin
2025-12-01 00:28:52.516 [info] [rr22_utils.cc:GetIntersectionReceiver:81] [scqlengine] recv rr22 oprf finished: 78 vector:13
2025-12-01 00:28:52.516 [info] [rr22_psi.cc:GetIntersection:170] [scqlengine] get intersection end
2025-12-01 00:28:52.516 [info] [rr22_psi.cc:GetIntersection:172] [scqlengine] get intersection post f
2025-12-01 00:28:52.516 [info] [join.cc:Rr22PsiJoin:374] [job(a86f2654-ce09-11f0-91a2-0242ac110007)] RR22 PSI Join finish, my_party_code:bob, my_rank:1, total self_item_count:15, total peer_item_count:13, result_size:10
2025-12-01 00:28:52.516 [info] [engine_service_impl.cc:RunPlanCore:504] [job(a86f2654-ce09-11f0-91a2-0242ac110007)] session(a86f2654-ce09-11f0-91a2-0242ac110007) finished executing node(join.2), op(Join), cost(58)ms
2025-12-01 00:28:52.516 [info] [engine_service_impl.cc:RunPlanCore:488] [job(a86f2654-ce09-11f0-91a2-0242ac110007)] session(a86f2654-ce09-11f0-91a2-0242ac110007) start to execute node(filter_by_index.4) op(FilterByIndex) pipeline(0) batch(0)
2025-12-01 00:28:52.516 [info] [engine_service_impl.cc:RunPlanCore:504] [job(a86f2654-ce09-11f0-91a2-0242ac110007)] session(a86f2654-ce09-11f0-91a2-0242ac110007) finished executing node(filter_by_index.4), op(FilterByIndex), cost(0)ms
2025-12-01 00:28:52.516 [info] [engine_service_impl.cc:RunPlanCore:488] [job(a86f2654-ce09-11f0-91a2-0242ac110007)] session(a86f2654-ce09-11f0-91a2-0242ac110007) start to execute node(make_share.5) op(MakeShare) pipeline(0) batch(0)
2025-12-01 00:28:52.517 [info] [engine_service_impl.cc:RunPlanCore:504] [job(a86f2654-ce09-11f0-91a2-0242ac110007)] session(a86f2654-ce09-11f0-91a2-0242ac110007) finished executing node(make_share.5), op(MakeShare), cost(0)ms
2025-12-01 00:28:52.517 [info] [engine_service_impl.cc:RunPlanCore:488] [job(a86f2654-ce09-11f0-91a2-0242ac110007)] session(a86f2654-ce09-11f0-91a2-0242ac110007) start to execute node(make_share.6) op(MakeShare) pipeline(0) batch(0)
2025-12-01 00:28:52.517 [info] [engine_service_impl.cc:RunPlanCore:504] [job(a86f2654-ce09-11f0-91a2-0242ac110007)] session(a86f2654-ce09-11f0-91a2-0242ac110007) finished executing node(make_share.6), op(MakeShare), cost(0)ms
2025-12-01 00:28:52.517 [info] [engine_service_impl.cc:RunPlanCore:488] [job(a86f2654-ce09-11f0-91a2-0242ac110007)] session(a86f2654-ce09-11f0-91a2-0242ac110007) start to execute node(make_share.7) op(MakeShare) pipeline(0) batch(0)
2025-12-01 00:28:52.518 [info] [engine_service_impl.cc:RunPlanCore:504] [job(a86f2654-ce09-11f0-91a2-0242ac110007)] session(a86f2654-ce09-11f0-91a2-0242ac110007) finished executing node(make_share.7), op(MakeShare), cost(0)ms
2025-12-01 00:28:52.518 [info] [engine_service_impl.cc:RunPlanCore:488] [job(a86f2654-ce09-11f0-91a2-0242ac110007)] session(a86f2654-ce09-11f0-91a2-0242ac110007) start to execute node(sort.8) op(Sort) pipeline(0) batch(0)
2025-12-01 00:28:52.637 [info] [engine_service_impl.cc:RunPlanCore:504] [job(a86f2654-ce09-11f0-91a2-0242ac110007)] session(a86f2654-ce09-11f0-91a2-0242ac110007) finished executing node(sort.8), op(Sort), cost(119)ms
2025-12-01 00:28:52.637 [info] [engine_service_impl.cc:RunPlanCore:488] [job(a86f2654-ce09-11f0-91a2-0242ac110007)] session(a86f2654-ce09-11f0-91a2-0242ac110007) start to execute node(group_mark.9) op(ObliviousGroupMark) pipeline(0) batch(0)
2025-12-01 00:28:52.639 [info] [engine_service_impl.cc:RunPlanCore:504] [job(a86f2654-ce09-11f0-91a2-0242ac110007)] session(a86f2654-ce09-11f0-91a2-0242ac110007) finished executing node(group_mark.9), op(ObliviousGroupMark), cost(1)ms
2025-12-01 00:28:52.639 [info] [engine_service_impl.cc:RunPlanCore:488] [job(a86f2654-ce09-11f0-91a2-0242ac110007)] session(a86f2654-ce09-11f0-91a2-0242ac110007) start to execute node(count.10) op(ObliviousGroupCount) pipeline(0) batch(0)
2025-12-01 00:28:52.642 [info] [engine_service_impl.cc:RunPlanCore:504] [job(a86f2654-ce09-11f0-91a2-0242ac110007)] session(a86f2654-ce09-11f0-91a2-0242ac110007) finished executing node(count.10), op(ObliviousGroupCount), cost(2)ms
2025-12-01 00:28:52.642 [info] [engine_service_impl.cc:RunPlanCore:488] [job(a86f2654-ce09-11f0-91a2-0242ac110007)] session(a86f2654-ce09-11f0-91a2-0242ac110007) start to execute node(avg.11) op(ObliviousGroupAvg) pipeline(0) batch(0)
2025-12-01 00:28:52.653 [info] [engine_service_impl.cc:RunPlanCore:504] [job(a86f2654-ce09-11f0-91a2-0242ac110007)] session(a86f2654-ce09-11f0-91a2-0242ac110007) finished executing node(avg.11), op(ObliviousGroupAvg), cost(11)ms
2025-12-01 00:28:52.653 [info] [engine_service_impl.cc:RunPlanCore:488] [job(a86f2654-ce09-11f0-91a2-0242ac110007)] session(a86f2654-ce09-11f0-91a2-0242ac110007) start to execute node(avg.12) op(ObliviousGroupAvg) pipeline(0) batch(0)
2025-12-01 00:28:52.666 [info] [engine_service_impl.cc:RunPlanCore:504] [job(a86f2654-ce09-11f0-91a2-0242ac110007)] session(a86f2654-ce09-11f0-91a2-0242ac110007) finished executing node(avg.12), op(ObliviousGroupAvg), cost(12)ms
2025-12-01 00:28:52.667 [info] [engine_service_impl.cc:RunPlanCore:488] [job(a86f2654-ce09-11f0-91a2-0242ac110007)] session(a86f2654-ce09-11f0-91a2-0242ac110007) start to execute node(shuffle.13) op(Shuffle) pipeline(0) batch(0)
2025-12-01 00:28:52.669 [info] [engine_service_impl.cc:RunPlanCore:504] [job(a86f2654-ce09-11f0-91a2-0242ac110007)] session(a86f2654-ce09-11f0-91a2-0242ac110007) finished executing node(shuffle.13), op(Shuffle), cost(2)ms
2025-12-01 00:28:52.669 [info] [engine_service_impl.cc:RunPlanCore:488] [job(a86f2654-ce09-11f0-91a2-0242ac110007)] session(a86f2654-ce09-11f0-91a2-0242ac110007) start to execute node(make_public.14) op(MakePublic) pipeline(0) batch(0)
2025-12-01 00:28:52.670 [info] [engine_service_impl.cc:RunPlanCore:504] [job(a86f2654-ce09-11f0-91a2-0242ac110007)] session(a86f2654-ce09-11f0-91a2-0242ac110007) finished executing node(make_public.14), op(MakePublic), cost(0)ms
2025-12-01 00:28:52.670 [info] [engine_service_impl.cc:RunPlanCore:488] [job(a86f2654-ce09-11f0-91a2-0242ac110007)] session(a86f2654-ce09-11f0-91a2-0242ac110007) start to execute node(filter.15) op(Filter) pipeline(0) batch(0)
2025-12-01 00:28:52.670 [info] [engine_service_impl.cc:RunPlanCore:504] [job(a86f2654-ce09-11f0-91a2-0242ac110007)] session(a86f2654-ce09-11f0-91a2-0242ac110007) finished executing node(filter.15), op(Filter), cost(0)ms
2025-12-01 00:28:52.670 [info] [engine_service_impl.cc:RunPlanCore:488] [job(a86f2654-ce09-11f0-91a2-0242ac110007)] session(a86f2654-ce09-11f0-91a2-0242ac110007) start to execute node(broadcast.17) op(BroadcastTo) pipeline(0) batch(0)
2025-12-01 00:28:52.670 [info] [engine_service_impl.cc:RunPlanCore:504] [job(a86f2654-ce09-11f0-91a2-0242ac110007)] session(a86f2654-ce09-11f0-91a2-0242ac110007) finished executing node(broadcast.17), op(BroadcastTo), cost(0)ms
2025-12-01 00:28:52.670 [info] [engine_service_impl.cc:RunPlanCore:488] [job(a86f2654-ce09-11f0-91a2-0242ac110007)] session(a86f2654-ce09-11f0-91a2-0242ac110007) start to execute node(make_private.18) op(MakePrivate) pipeline(0) batch(0)
2025-12-01 00:28:52.670 [info] [engine_service_impl.cc:RunPlanCore:504] [job(a86f2654-ce09-11f0-91a2-0242ac110007)] session(a86f2654-ce09-11f0-91a2-0242ac110007) finished executing node(make_private.18), op(MakePrivate), cost(0)ms
2025-12-01 00:28:52.671 [info] [engine_service_impl.cc:RunPlanCore:488] [job(a86f2654-ce09-11f0-91a2-0242ac110007)] session(a86f2654-ce09-11f0-91a2-0242ac110007) start to execute node(make_private.19) op(MakePrivate) pipeline(0) batch(0)
2025-12-01 00:28:52.671 [info] [engine_service_impl.cc:RunPlanCore:504] [job(a86f2654-ce09-11f0-91a2-0242ac110007)] session(a86f2654-ce09-11f0-91a2-0242ac110007) finished executing node(make_private.19), op(MakePrivate), cost(0)ms
2025-12-01 00:28:52.671 [info] [engine_service_impl.cc:RunPlanCore:488] [job(a86f2654-ce09-11f0-91a2-0242ac110007)] session(a86f2654-ce09-11f0-91a2-0242ac110007) start to execute node(make_public.21) op(MakePublic) pipeline(0) batch(0)
2025-12-01 00:28:52.671 [info] [engine_service_impl.cc:RunPlanCore:504] [job(a86f2654-ce09-11f0-91a2-0242ac110007)] session(a86f2654-ce09-11f0-91a2-0242ac110007) finished executing node(make_public.21), op(MakePublic), cost(0)ms
2025-12-01 00:28:52.671 [info] [engine_service_impl.cc:RunPlanCore:488] [job(a86f2654-ce09-11f0-91a2-0242ac110007)] session(a86f2654-ce09-11f0-91a2-0242ac110007) start to execute node(apply_filter.22) op(Filter) pipeline(0) batch(0)
2025-12-01 00:28:52.671 [info] [engine_service_impl.cc:RunPlanCore:504] [job(a86f2654-ce09-11f0-91a2-0242ac110007)] session(a86f2654-ce09-11f0-91a2-0242ac110007) finished executing node(apply_filter.22), op(Filter), cost(0)ms
2025-12-01 00:28:52.671 [info] [engine_service_impl.cc:RunPlanCore:488] [job(a86f2654-ce09-11f0-91a2-0242ac110007)] session(a86f2654-ce09-11f0-91a2-0242ac110007) start to execute node(make_private.23) op(MakePrivate) pipeline(0) batch(0)
2025-12-01 00:28:52.672 [info] [engine_service_impl.cc:RunPlanCore:504] [job(a86f2654-ce09-11f0-91a2-0242ac110007)] session(a86f2654-ce09-11f0-91a2-0242ac110007) finished executing node(make_private.23), op(MakePrivate), cost(0)ms
2025-12-01 00:28:52.672 [info] [engine_service_impl.cc:RunPlanCore:488] [job(a86f2654-ce09-11f0-91a2-0242ac110007)] session(a86f2654-ce09-11f0-91a2-0242ac110007) start to execute node(make_private.24) op(MakePrivate) pipeline(0) batch(0)
2025-12-01 00:28:52.672 [info] [engine_service_impl.cc:RunPlanCore:504] [job(a86f2654-ce09-11f0-91a2-0242ac110007)] session(a86f2654-ce09-11f0-91a2-0242ac110007) finished executing node(make_private.24), op(MakePrivate), cost(0)ms
2025-12-01 00:28:52.672 [info] [engine_service_impl.cc:RunPlanCore:488] [job(a86f2654-ce09-11f0-91a2-0242ac110007)] session(a86f2654-ce09-11f0-91a2-0242ac110007) start to execute node(make_private.25) op(MakePrivate) pipeline(0) batch(0)
2025-12-01 00:28:52.672 [info] [engine_service_impl.cc:RunPlanCore:504] [job(a86f2654-ce09-11f0-91a2-0242ac110007)] session(a86f2654-ce09-11f0-91a2-0242ac110007) finished executing node(make_private.25), op(MakePrivate), cost(0)ms
2025-12-01 00:28:52.672 [info] [engine_service_impl.cc:RunPlanCore:488] [job(a86f2654-ce09-11f0-91a2-0242ac110007)] session(a86f2654-ce09-11f0-91a2-0242ac110007) start to execute node(make_private.26) op(MakePrivate) pipeline(0) batch(0)
2025-12-01 00:28:52.672 [info] [engine_service_impl.cc:RunPlanCore:504] [job(a86f2654-ce09-11f0-91a2-0242ac110007)] session(a86f2654-ce09-11f0-91a2-0242ac110007) finished executing node(make_private.26), op(MakePrivate), cost(0)ms
2025-12-01 00:28:52.673 [info] [engine_service_impl.cc:RunPlanCore:539] [job(a86f2654-ce09-11f0-91a2-0242ac110007)] session(a86f2654-ce09-11f0-91a2-0242ac110007) finished executing pipeline(0) batch(0)
2025-12-01 00:28:52.673 [info] [engine_service_impl.cc:RunPlanCore:546] [job(a86f2654-ce09-11f0-91a2-0242ac110007)] session(a86f2654-ce09-11f0-91a2-0242ac110007) run plan policy succ
2025-12-01 00:28:52.673 [info] [engine_service_impl.cc:RunPlanSync:579] [job(a86f2654-ce09-11f0-91a2-0242ac110007)] RunExecutionPlan success, sessionID=a86f2654-ce09-11f0-91a2-0242ac110007
2025-12-01 00:28:52.673 [info] [session_manager.cc:CompareAndSetState:260] [scqlengine] session(a86f2654-ce09-11f0-91a2-0242ac110007), state transitioned from COMPUTATION_FINISHED to SUCCEEDED successfully.
2025-12-01 00:28:52.674 [info] [session_manager.cc:RemoveSession:217] [scqlengine] session(a86f2654-ce09-11f0-91a2-0242ac110007) removed, running_cost(221ms), current running session=0
2025-12-01 00:28:52.740 [info] [session_manager.cc:CreateSession:131] [scqlengine] create session(a89ce8b9-ce09-11f0-91a2-0242ac110007) succ, cost(0ms), current running session=1
2025-12-01 00:28:52.741 [info] [engine_service_impl.cc:CheckGraphChecksum:177] [job(a89ce8b9-ce09-11f0-91a2-0242ac110007)] skip checking graph checksum
2025-12-01 00:28:52.741 [info] [engine_service_impl.cc:RunExecutionPlan:283] [job(a89ce8b9-ce09-11f0-91a2-0242ac110007)] [RunExecutionPlan] Session created successfully, start to run plan, client = 127.0.0.1:49626
RunExecutionPlanRequest = {"job_params":{"party_code":"bob","parties":[{"code":"bob","name":"bob","host":"localhost:8004","public_key":"MCowBQYDK2VwAyEAeKWKsxJVF5cvfB693Jb/HI1CCJA6WZyVeS6ErCLlj4w="}],"job_id":"a89ce8b9-ce09-11f0-91a2-0242ac110007","spu_runtime_cfg":{"protocol":2,"field":2,"public_random_seed":"736809822324047528"}},"graph":{"nodes":{"0":{"node_name":"runsql.0","op_type":"RunSQL","outputs":{"Out":{"tensors":[{"name":"Column#4.0","elem_type":6,"option":1,"annotation":{"status":1},"ref_num":1}]}},"attributes":{"sql":{"t":{"name":".0","elem_type":8,"string_data":["select avg(tb.order_amount) as avg_amount from bob.user_stats as tb;"]}},"table_refs":{"t":{"name":".0","shape":{"dim":[{"dim_value":"1"}]},"elem_type":8,"string_data":["bob.user_stats"]}}}},"1":{"node_name":"publish.1","op_type":"Publish","inputs":{"In":{"tensors":[{"name":"Column#4.0","elem_type":6,"option":1,"annotation":{"status":1},"ref_num":1}]}},"outputs":{"Out":{"tensors":[{"name":"avg_amount.1","elem_type":8,"annotation":{"status":1},"string_data":["avg_amount"]}]}}}},"policy":{"worker_num":1,"pipelines":[{"subdags":[{"jobs":[{"node_ids":["0"]}]},{"jobs":[{"node_ids":["1"]}]}]}]},"sub_graph_checksum":"9bdf24a56c92101a192e6b85eac283b2d281fdef0734eb9a5dbefbd539fb6fde"},"graph_checksum":{},"callback_url":"http://localhost:8080/cb/engine"}
2025-12-01 00:28:52.741 [info] [engine_service_impl.cc:RunPlanCore:476] [job(a89ce8b9-ce09-11f0-91a2-0242ac110007)] session(a89ce8b9-ce09-11f0-91a2-0242ac110007) start to execute pipeline(0) batch(0)
2025-12-01 00:28:52.741 [info] [engine_service_impl.cc:RunPlanCore:488] [job(a89ce8b9-ce09-11f0-91a2-0242ac110007)] session(a89ce8b9-ce09-11f0-91a2-0242ac110007) start to execute node(runsql.0) op(RunSQL) pipeline(0) batch(0)
2025-12-01 00:28:52.742 [info] [run_sql.cc:Execute:74] [job(a89ce8b9-ce09-11f0-91a2-0242ac110007)] get result row=1, column=1
2025-12-01 00:28:52.742 [info] [engine_service_impl.cc:RunPlanCore:504] [job(a89ce8b9-ce09-11f0-91a2-0242ac110007)] session(a89ce8b9-ce09-11f0-91a2-0242ac110007) finished executing node(runsql.0), op(RunSQL), cost(1)ms
2025-12-01 00:28:52.742 [info] [engine_service_impl.cc:RunPlanCore:488] [job(a89ce8b9-ce09-11f0-91a2-0242ac110007)] session(a89ce8b9-ce09-11f0-91a2-0242ac110007) start to execute node(publish.1) op(Publish) pipeline(0) batch(0)
2025-12-01 00:28:52.742 [info] [engine_service_impl.cc:RunPlanCore:504] [job(a89ce8b9-ce09-11f0-91a2-0242ac110007)] session(a89ce8b9-ce09-11f0-91a2-0242ac110007) finished executing node(publish.1), op(Publish), cost(0)ms
2025-12-01 00:28:52.742 [info] [engine_service_impl.cc:RunPlanCore:539] [job(a89ce8b9-ce09-11f0-91a2-0242ac110007)] session(a89ce8b9-ce09-11f0-91a2-0242ac110007) finished executing pipeline(0) batch(0)
2025-12-01 00:28:52.742 [info] [engine_service_impl.cc:RunPlanCore:546] [job(a89ce8b9-ce09-11f0-91a2-0242ac110007)] session(a89ce8b9-ce09-11f0-91a2-0242ac110007) run plan policy succ
2025-12-01 00:28:52.742 [info] [engine_service_impl.cc:RunPlanSync:579] [job(a89ce8b9-ce09-11f0-91a2-0242ac110007)] RunExecutionPlan success, sessionID=a89ce8b9-ce09-11f0-91a2-0242ac110007
2025-12-01 00:28:52.742 [info] [session_manager.cc:CompareAndSetState:260] [scqlengine] session(a89ce8b9-ce09-11f0-91a2-0242ac110007), state transitioned from COMPUTATION_FINISHED to SUCCEEDED successfully.
2025-12-01 00:28:52.742 [info] [session_manager.cc:RemoveSession:217] [scqlengine] session(a89ce8b9-ce09-11f0-91a2-0242ac110007) removed, running_cost(1ms), current running session=0
2025-12-01 00:28:52.784 [info] [session_manager.cc:CreateSession:131] [scqlengine] create session(a8a38a63-ce09-11f0-91a2-0242ac110007) succ, cost(0ms), current running session=1
2025-12-01 00:28:52.784 [info] [engine_service_impl.cc:CheckGraphChecksum:177] [job(a8a38a63-ce09-11f0-91a2-0242ac110007)] skip checking graph checksum
2025-12-01 00:28:52.784 [info] [engine_service_impl.cc:RunExecutionPlan:283] [job(a8a38a63-ce09-11f0-91a2-0242ac110007)] [RunExecutionPlan] Session created successfully, start to run plan, client = 127.0.0.1:49628
RunExecutionPlanRequest = {"job_params":{"party_code":"bob","parties":[{"code":"bob","name":"bob","host":"localhost:8004","public_key":"MCowBQYDK2VwAyEAeKWKsxJVF5cvfB693Jb/HI1CCJA6WZyVeS6ErCLlj4w="}],"job_id":"a8a38a63-ce09-11f0-91a2-0242ac110007","spu_runtime_cfg":{"protocol":2,"field":2,"public_random_seed":"6026585132637146106"}},"graph":{"nodes":{"0":{"node_name":"runsql.0","op_type":"RunSQL","outputs":{"Out":{"tensors":[{"name":"demo.user_stats.id.0","elem_type":8,"option":1,"annotation":{"status":1},"ref_num":1},{"name":"demo.user_stats.is_active.1","elem_type":4,"option":1,"annotation":{"status":1},"ref_num":1},{"name":"demo.user_stats.order_amount.2","elem_type":6,"option":1,"annotation":{"status":1},"ref_num":1}]}},"attributes":{"sql":{"t":{"name":".0","elem_type":8,"string_data":["select user_stats.id,user_stats.is_active,user_stats.order_amount from bob.user_stats limit 5;"]}},"table_refs":{"t":{"name":".0","shape":{"dim":[{"dim_value":"1"}]},"elem_type":8,"string_data":["bob.user_stats"]}}}},"1":{"node_name":"publish.1","op_type":"Publish","inputs":{"In":{"tensors":[{"name":"demo.user_stats.id.0","elem_type":8,"option":1,"annotation":{"status":1},"ref_num":1},{"name":"demo.user_stats.is_active.1","elem_type":4,"option":1,"annotation":{"status":1},"ref_num":1},{"name":"demo.user_stats.order_amount.2","elem_type":6,"option":1,"annotation":{"status":1},"ref_num":1}]}},"outputs":{"Out":{"tensors":[{"name":"id.3","elem_type":8,"annotation":{"status":1},"string_data":["id"]},{"name":"is_active.4","elem_type":8,"annotation":{"status":1},"string_data":["is_active"]},{"name":"order_amount.5","elem_type":8,"annotation":{"status":1},"string_data":["order_amount"]}]}}}},"policy":{"worker_num":1,"pipelines":[{"subdags":[{"jobs":[{"node_ids":["0"]}]},{"jobs":[{"node_ids":["1"]}]}]}]},"sub_graph_checksum":"80579ef7ff72b888a41a6c3071f7c7eee9b03f0c40281198a9a0ec6409f7560e"},"graph_checksum":{},"callback_url":"http://localhost:8080/cb/engine"}
2025-12-01 00:28:52.784 [info] [engine_service_impl.cc:RunPlanCore:476] [job(a8a38a63-ce09-11f0-91a2-0242ac110007)] session(a8a38a63-ce09-11f0-91a2-0242ac110007) start to execute pipeline(0) batch(0)
2025-12-01 00:28:52.784 [info] [engine_service_impl.cc:RunPlanCore:488] [job(a8a38a63-ce09-11f0-91a2-0242ac110007)] session(a8a38a63-ce09-11f0-91a2-0242ac110007) start to execute node(runsql.0) op(RunSQL) pipeline(0) batch(0)
2025-12-01 00:28:52.785 [warning] [datasource_adaptor.cc:ConvertDataTypeToExpected:172] [job(a8a38a63-ce09-11f0-91a2-0242ac110007)] arrow type mismatch, convert from float to double
2025-12-01 00:28:52.785 [info] [run_sql.cc:Execute:74] [job(a8a38a63-ce09-11f0-91a2-0242ac110007)] get result row=5, column=3
2025-12-01 00:28:52.785 [info] [engine_service_impl.cc:RunPlanCore:504] [job(a8a38a63-ce09-11f0-91a2-0242ac110007)] session(a8a38a63-ce09-11f0-91a2-0242ac110007) finished executing node(runsql.0), op(RunSQL), cost(1)ms
2025-12-01 00:28:52.785 [info] [engine_service_impl.cc:RunPlanCore:488] [job(a8a38a63-ce09-11f0-91a2-0242ac110007)] session(a8a38a63-ce09-11f0-91a2-0242ac110007) start to execute node(publish.1) op(Publish) pipeline(0) batch(0)
2025-12-01 00:28:52.785 [info] [engine_service_impl.cc:RunPlanCore:504] [job(a8a38a63-ce09-11f0-91a2-0242ac110007)] session(a8a38a63-ce09-11f0-91a2-0242ac110007) finished executing node(publish.1), op(Publish), cost(0)ms
2025-12-01 00:28:52.785 [info] [engine_service_impl.cc:RunPlanCore:539] [job(a8a38a63-ce09-11f0-91a2-0242ac110007)] session(a8a38a63-ce09-11f0-91a2-0242ac110007) finished executing pipeline(0) batch(0)
2025-12-01 00:28:52.785 [info] [engine_service_impl.cc:RunPlanCore:546] [job(a8a38a63-ce09-11f0-91a2-0242ac110007)] session(a8a38a63-ce09-11f0-91a2-0242ac110007) run plan policy succ
2025-12-01 00:28:52.785 [info] [engine_service_impl.cc:RunPlanSync:579] [job(a8a38a63-ce09-11f0-91a2-0242ac110007)] RunExecutionPlan success, sessionID=a8a38a63-ce09-11f0-91a2-0242ac110007
2025-12-01 00:28:52.785 [info] [session_manager.cc:CompareAndSetState:260] [scqlengine] session(a8a38a63-ce09-11f0-91a2-0242ac110007), state transitioned from COMPUTATION_FINISHED to SUCCEEDED successfully.
2025-12-01 00:28:52.785 [info] [session_manager.cc:RemoveSession:217] [scqlengine] session(a8a38a63-ce09-11f0-91a2-0242ac110007) removed, running_cost(1ms), current running session=0
